"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3235],{78492:function(e,t,n){var r=n(7570),a=n(4866),s=n(53367),i=n(85893);t.Z=function(e){var t=e.creatorId,n=e.className,c=(0,r.Y)().localeLn,o=(0,s.Z)(t);return(0,i.jsx)(i.Fragment,{children:(null===o||void 0===o?void 0:o.flag)&&(0,i.jsx)("div",{className:"".concat(n," absolute z-20 bottom-0 flex items-center justify-center px-4 md:px-12 w-full"),children:(0,i.jsx)("p",{className:"text-white text-sm m-2 md:mb-4 mt-2 p-1 font-bold w-full mx-auto px-4 text-center rounded-md ".concat(a.M[null===o||void 0===o?void 0:o.flag]),children:c(a.z[null===o||void 0===o?void 0:o.flag])})})})}},10868:function(e,t,n){var r=n(60035),a=n(53367),s=n(41664),i=n(67294),c=n(96168),o=n(81941),l=n(85893);t.Z=function(e){var t=e.token,n=e.collection,d=(0,i.useState)(!1),u=d[0],m=d[1],p=(0,a.Z)(null===t||void 0===t?void 0:t.metadata.creator_id);(0,i.useEffect)((function(){m(!0)}),[t]);var x=function(){return(null===t||void 0===t?void 0:t.metadata.creator_id)||(null===t||void 0===t?void 0:t.contract_id)};return(0,l.jsxs)(l.Fragment,{children:[u&&(0,l.jsx)(c.default,{id:"verified-tooltip",place:"right",type:"light"}),(0,l.jsx)("span",{className:"font-semibold",children:(0,l.jsx)(s.default,{href:null!==t&&void 0!==t&&t.metadata.creator_id?"/".concat(x(),"/creation"):"/collection/".concat(x()),children:(0,l.jsx)("a",{className:"text-white font-semibold border-b-2 border-transparent hover:border-white",children:(0,o.oe)(x(),30,"address")})})}),((null===p||void 0===p?void 0:p.isCreator)||(null===n||void 0===n?void 0:n.isCreator))&&(0,l.jsx)("span",{"data-for":"verified-tooltip","data-tip":"Verified Creator",className:"ml-1",children:(0,l.jsx)(r.HG,{size:17,color:"#0816B3"})})]})}},98006:function(e,t,n){n(67294);var r=n(85893),a=function(e){var t,n=e.alt,a=e.entityName,s=e.bg,i=e.size,c=e.src,o=e.className,l=e.style,d=e.onClick;switch(i){case"xxl":t="w-24 h-24 text-4xl";break;case"xl":t="w-16 h-16 text-3xl";break;case"lg":t="w-12 h-12 text-2xl";break;case"md":t="w-8 h-8 text-base";break;case"sm":t="w-6 h-6 text-sm";break;case"xs":t="w-4 h-4 text-xs"}var u="".concat(o," ").concat("rounded-full overflow-hidden select-none inline-flex items-center justify-center relative text-gray-900"," ").concat(t," ").concat(s||"bg-primary");return(0,r.jsx)("div",{className:u,style:l,onClick:d,children:function(){if(c)return(0,r.jsx)("img",{className:"w-full h-full absolute top-0 left-0",src:c,alt:n});if(a){return(0,r.jsx)("h2",{className:"font-medium text-white",children:(e=a,e.charAt(0).toUpperCase())})}var e;return null}()})};a.defaultProps={alt:"",entityName:"Paras",bg:"bg-primary",size:"",src:"",className:""},t.Z=a},86964:function(e,t,n){var r=n(80318),a=n(85893),s=n(67294),i=s.useRef,c=s.useEffect,o=s.useState;t.Z=function(e){var t=e.children,n=e.link,s=e.afterCopy,l=o(!1),d=(0,r.Z)(l,2),u=d[0],m=d[1],p=i();c((function(){m(!0)}),[]);return(0,a.jsxs)("div",{onClick:function(){return function(){var e=p.current;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),"function"===typeof s&&s()}()},children:[u&&(0,a.jsx)("div",{className:"absolute z-0 opacity-0",style:{top:"-1000"},children:(0,a.jsx)("input",{ref:p,readOnly:!0,type:"text",value:n})}),(0,a.jsx)("div",{className:"relative z-10",children:t})]})}},84614:function(e,t,n){var r=n(41664),a=n(81941),s=n(85893);t.Z=function(e){var t=e.className,n=e.accountId,i=e.len,c=void 0===i?24:i;return n?(0,s.jsx)(r.default,{href:"/".concat(n),children:(0,s.jsx)("a",{title:n,className:"font-semibold border-b-2 border-transparent ".concat(t||"text-white hover:border-gray-100"),children:(0,a.oe)(n,c,"address")})}):null}},83019:function(e,t,n){var r=n(96168),a=n(85893);t.Z=function(e){var t=e.id,n=void 0===t?"":t,s=e.show,i=e.children,c=e.place,o=void 0===c?"right":c,l=e.type,d=void 0===l?"dark":l,u=e.effect,m=void 0===u?"solid":u,p=e.className,x=e.text,f=void 0===x?"":x,h=e.width,v=void 0===h?"80":h;return(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsx)(r.default,{place:o,type:d,effect:m,id:n,className:"w-".concat(v," text-sm ").concat(p)}),(0,a.jsx)("div",{"data-tip":f,"data-for":n,className:"cursor-default",children:i})]})}},72659:function(e,t,n){var r=n(92809),a=n(10219),s=(n(67294),n(71243)),i=n(85893),c=["size"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.size,n=(0,a.Z)(e,c);return(0,i.jsx)("svg",l(l({width:t,height:t,viewBox:"0 0 108 108",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:(0,i.jsx)("g",{id:"\u5b9a\u7a3f",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,i.jsx)("g",{id:"Sender-svg",transform:"translate(-468.000000, -240.000000)",children:(0,i.jsx)("g",{id:"1",transform:"translate(240.000000, 240.000000)",children:(0,i.jsxs)("g",{id:"symble-Round",transform:"translate(228.000000, 0.000000)",children:[(0,i.jsx)("rect",{fill:"#2E79DF",x:"0",y:"0",width:"108",height:"108",rx:"54"}),(0,i.jsx)("path",{d:"M65.3535723,47.8259044 C66.423724,48.2167791 67.406505,48.7274833 68.2795269,49.3551942 C69.4412683,50.190381 70.408475,51.2336601 71.1254139,52.4802887 C71.4941051,53.1213769 71.7834404,53.7926612 71.9958132,54.4878511 C72.2105959,55.1881817 72.3480062,55.9126555 72.4108473,56.6547446 C72.8552218,61.8723729 69.6358409,67.9397998 63.9066211,72.4470451 L63.6479705,72.648171 C62.6515755,73.4136403 61.5813969,74.1325285 60.4436859,74.791951 L34.2050215,90 C33.4350533,84.8860992 34.8553819,79.6336869 38.1026016,75.5843891 C39.506399,73.8331495 41.2517969,72.3072225 43.3095947,71.1145135 L58.6371354,62.2306013 C60.726081,61.019839 62.0540083,58.9960482 62.4486265,56.794623 C62.7626841,55.0441289 62.486735,53.1817912 61.5343413,51.5257488 C60.7685257,50.1941321 59.6687489,49.1759357 58.4003207,48.5153576 C56.9586035,47.7634507 55.2985204,47.4737035 53.6638143,47.7107739 C53.7561593,47.6670566 53.8487994,47.6248027 53.9417345,47.5840122 C55.3327512,47.2386692 56.707016,47.019077 58.0407362,46.9237717 C60.7027283,46.7341397 63.2034763,47.0394796 65.3535723,47.8259044 Z M73.7949785,18 C74.5649467,23.1139008 73.1446181,28.3663131 69.8973984,32.4156109 C68.493601,34.1668505 66.7482031,35.6927775 64.6904053,36.8854865 L49.3628646,45.7693987 C47.273919,46.980161 45.9459917,49.0039518 45.5513735,51.205377 C45.2373159,52.9558711 45.513265,54.8182088 46.4656587,56.4742512 C47.2314743,57.8058679 48.3312511,58.8240643 49.5996793,59.4846424 C51.0413965,60.2365493 52.7014796,60.5262965 54.3361857,60.2892261 C54.2438407,60.3329434 54.1512006,60.3751973 54.0582655,60.4159878 C52.6672488,60.7613308 51.292984,60.980923 49.9592638,61.0762283 C47.2972717,61.2658603 44.7965237,60.9605204 42.6464277,60.1740956 C41.576276,59.7832209 40.593495,59.2725167 39.7204731,58.6448058 C38.5587317,57.809619 37.591525,56.7663399 36.8745861,55.5197113 C36.5058949,54.8786231 36.2165596,54.2073388 36.0041868,53.5121489 C35.7894041,52.8118183 35.6519938,52.0873445 35.5891527,51.3452554 C35.1447782,46.1276271 38.3641591,40.0602002 44.0933789,35.5529549 L44.3520295,35.351829 C45.3484245,34.5863597 46.4186031,33.8674715 47.5563141,33.208049 L73.7949785,18 Z",id:"\u5f62\u72b6\u7ed3\u5408",fill:"#FFFFFF"})]})})})})}))};d.defaultProps=l({},s.f),t.Z=d},41237:function(e,t,n){var r=n(41664),a=n(81941),s=n(85893);t.Z=function(e){var t=e.className,n=e.accountId,i=e.isComic,c=e.len,o=void 0===c?24:c;return(0,s.jsx)(r.default,{href:i?"https://comic.paras.id/".concat(n):"/".concat(n),children:(0,s.jsx)("a",{title:n,className:"font-semibold border-b-2 border-transparent ".concat(t||"text-black hover:border-gray-900"),target:i&&"_blank",children:(0,a.oe)(n,o,"address")})})}},80312:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(77084),c=n(81941),o=n(12705),l=n(7570),d=n(39499),u=n.n(d),m=n(49566),p=n(67294),x=n(83019),f=n(60035),h=n(35277),v=n(31427),j=n(85893);t.Z=function(e){var t=e.onClose,n=e.token,a=e.data,d=e.storageFee,g=e.isLoading,_=e.onSubmitForm,b=(0,l.Y)().localeLn,y=(0,p.useState)(null),w=y[0],k=y[1],N=(0,v.Z)().nearUsdPrice,C=((null===w||void 0===w?void 0:w.next_fee)||0)>((null===w||void 0===w?void 0:w.current_fee)||0),S=b("DynamicTxFee",{date:(0,c.sG)(1e3*((null===w||void 0===w?void 0:w.start_time)||0)),fee:((null===w||void 0===w?void 0:w.current_fee)||0)/100});(0,p.useEffect)((function(){(function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.viewFunction({methodName:"get_transaction_fee",contractId:"marketplace.paras.near"});case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=function(){if(u().greaterThan(u().BigInt(a.price),u().BigInt(0))){var e;e=null!==w&&void 0!==w&&w.start_time&&new Date>new Date(1e3*(null===w||void 0===w?void 0:w.start_time))?u().BigInt((null===w||void 0===w?void 0:w.next_fee)||0):u().BigInt((null===w||void 0===w?void 0:w.current_fee)||0);var t=Object.keys(n.royalty).length>0?u().divide(u().multiply(u().BigInt(a.price),u().BigInt(Object.values(n.royalty).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0))),u().BigInt(1e4)):u().BigInt(0),r=u().divide(u().multiply(u().BigInt(a.price),e),u().BigInt(1e4)),s=u().add(t,r),c=u().subtract(u().BigInt(a.price),s);return{receive:(0,i.formatNearAmount)(c.toString()),royalty:(0,i.formatNearAmount)(t.toString()),fee:(0,i.formatNearAmount)(r.toString())}}return{receive:0,royalty:0,fee:0}};return(0,j.jsx)(o.Z,{closeOnBgClick:!1,closeOnEscape:!1,close:t,children:(0,j.jsx)("div",{className:"max-w-sm w-full p-4 bg-gray-800 m-auto rounded-md relative",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:b("Accept a Bid")}),(0,j.jsxs)("p",{className:"text-white mt-2",children:[b("AboutToAcceptBid")," ",(0,j.jsx)("b",{children:n.metadata.name})," ",b("From")," ",(0,j.jsx)("b",{children:a.buyer_id})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-white mt-4 text-2xl font-bold text-center",children:"".concat((0,c.gL)(a.price,24,4)," \u24c3 ")}),0!==N&&(0,j.jsxs)("div",{className:"text-xs text-gray-300 truncate",children:["$",(0,c.gL)(u().BigInt(a.price)*N,24,2)]})]}),(0,j.jsxs)("div",{className:"mt-4 text-center",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between ".concat(C?"text-gray-300":"text-gray-200"),children:[(0,j.jsxs)("div",{className:"text-sm",children:[b("RoyaltyForArtist")," (",0===Object.keys(n.royalty).length?"None":"".concat(Object.values(n.royalty).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)/100,"%"),")"]}),(0,j.jsxs)("div",{children:[E().royalty," \u24c3"]})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between ".concat(C?"font-bold text-white":"text-gray-200"),children:[(0,j.jsx)(x.Z,{id:"text-fee",show:C,text:S,className:"font-normal",children:(0,j.jsxs)("span",{children:[b("Fee"),C&&(0,j.jsx)(f.aU,{size:10,color:"#ffffff"}),":"]})}),(0,j.jsx)(x.Z,{id:"text-number",show:C,text:S,className:"font-normal",place:"left",children:(0,j.jsxs)("span",{children:[" ",E().fee," \u24c3"]})})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between ".concat(C?"text-gray-300":"text-gray-200"),children:[(0,j.jsx)("div",{className:"text-sm",children:b("YouWillGet")}),(0,j.jsxs)("div",{children:[E().receive," \u24c3"]})]})]}),(0,j.jsx)("div",{className:"mt-4 text-center",children:(0,j.jsx)("div",{className:"text-white my-1",children:(0,j.jsxs)("div",{className:"flex items-center justify-between ".concat(C?"text-gray-300":"text-gray-200"),children:[(0,j.jsx)("div",{className:"text-sm",children:b("StorageFee")}),(0,j.jsxs)("div",{className:"text",children:[(0,i.formatNearAmount)(d)," \u24c3"]})]})})}),(0,j.jsx)("p",{className:"text-white mt-4 text-sm text-center opacity-90 px-4",children:b("RedirectedToconfirm")}),n.is_staked&&(0,j.jsx)("p",{className:"text-sm text-center font-bold mt-2 -mb-2",children:"Please Unstake your token to accept offer"}),(0,j.jsxs)("div",{className:"",children:[(0,j.jsx)(m.Z,{size:"md",isFullWidth:!0,isDisabled:n.is_staked||g,isLoading:g,className:"mt-4 rounded-md bg-transparent text-sm font-semibold border-2 px-4 py-2 border-primary bg-primary text-gray-100",onClick:_,children:"Accept Bid"}),(0,j.jsx)(m.Z,{className:"mt-4",variant:"ghost",size:"md",isFullWidth:!0,onClick:t,isDisabled:g,children:b("Cancel")})]})]})})})}},71870:function(e,t,n){var r=n(92809),a=n(52450),s=n(60035),i=n(12705),c=n(4866),o=n(7570),l=(n(67294),n(81941)),d=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.creatorData,n=e.action,r=e.setIsShow,u=e.onClose,p=e.isTradeType,x=void 0!==p&&p,f=e.tradedTokenData,h=e.isFlagged,v=void 0!==h&&h,j=(0,o.Y)().localeLn;return(0,d.jsx)(i.Z,{close:function(){r(!!x&&function(e){return m(m({},e),{},{isShowBannedConfirm:!1})})},children:(0,d.jsxs)("div",{className:"w-full max-w-sm p-4 m-auto bg-gray-800 rounded-md overflow-y-auto max-h-screen relative",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-white text-center tracking-tight",children:j("Warning")}),(0,d.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,d.jsx)("div",{className:"cursor-pointer",onClick:function(){return r(!1)},children:(0,d.jsx)(s.kL,{onClick:u})})}),x&&(0,d.jsx)("div",{className:"w-48 my-3 m-auto",children:(0,d.jsx)(a.Z,{imgUrl:(0,l.pf)(null===f||void 0===f?void 0:f.metadata.media,null,{width:"600",useOriginal:!1,isMediaCdn:null===f||void 0===f?void 0:f.isMediaCdn}),token:{title:null===f||void 0===f?void 0:f.metadata.title,collection:(null===f||void 0===f?void 0:f.metadata.collection)||(null===f||void 0===f?void 0:f.contract_id),copies:null===f||void 0===f?void 0:f.metadata.copies,creatorId:(null===f||void 0===f?void 0:f.metadata.creator_id)||(null===f||void 0===f?void 0:f.contract_id),is_creator:null===f||void 0===f?void 0:f.is_creator,mime_type:null===f||void 0===f?void 0:f.metadata.mime_type}})}),(!x||v)&&(0,d.jsx)("div",{className:"w-full text-white ".concat(x&&"text-xs"," p-2 rounded-md text-center mt-2 mb-6 ").concat(c.M[null===t||void 0===t?void 0:t.flag]),children:j(c.z[null===t||void 0===t?void 0:t.flag]||"FlaggedByPARASStealing")}),(0,d.jsxs)("div",{className:"w-full text-white text-sm text-center ".concat(!t.isCreator&&"bg-red-600 p-1 rounded-md"),children:[x?"Are you sure to accept NFT trade with":j("AreYouSureBuy")," ",x&&(0,d.jsx)("span",{className:"font-bold",children:null===f||void 0===f?void 0:f.metadata.title}),"?"]}),(0,d.jsx)("button",{className:"w-full outline-none h-12 mt-4 rounded-md bg-transparent text-sm font-semibold border-2 px-4 py-2 border-primary bg-primary text-gray-100",onClick:n,children:j("IUnderstand")})]})})}},22e3:function(e,t,n){var r=n(32275),a=n(85893);t.Z=function(e){var t=e.show,n=e.onClose,s=e.list,i=void 0===s?[{name:"Copy Link",onClick:function(){}},{name:"Share to...",onClick:function(){}},{name:"Burn",onClick:function(){}}]:s;return(0,a.jsx)(r.Z,{isShow:t,close:n,closeOnBgClick:!0,closeOnEscape:!0,children:(0,a.jsx)("div",{className:"px-4 py-2 bg-gray-800 max-w-xs w-full rounded-md m-auto",children:i.map((function(e,t){return(0,a.jsx)("div",{className:"py-2 text-white cursor-pointer",onClick:e.onClick,children:e.name},t)}))})})}},3413:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(49566),c=n(32275),o=n(60035),l=n(72659),d=n(7570),u=n(84987),m=n(92839),p=n(31427),x=n(81941),f=n(85893);t.Z=function(e){var t=e.show,n=e.onClose,a=e.title,h=void 0===a?"Please Login First":a,v=(0,d.Y)().localeLn,j=(0,p.Z)().setActiveWallet,g=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.near||!window.near.isSender){e.next=7;break}return e.next=3,m.ZP.signIn();case 3:n(),j("senderWallet"),e.next=8;break;case 7:window.open("https://senderwallet.io/");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)(c.Z,{isShow:t,close:n,children:(0,f.jsxs)("div",{className:"max-w-sm m-4 md:m-auto w-full relative bg-gray-800 p-4 text-center rounded-md pb-6",children:[(0,f.jsx)("div",{className:"flex mb-4 items-center justify-center",children:(0,f.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 256 256",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("rect",{width:"256",height:"256",rx:"10",fill:"#0000BA"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M80.9048 210L59 46L151.548 62.4C155.482 63.4335 159.124 64.2644 162.478 65.0295C175.091 67.9065 183.624 69.8529 188.238 78.144C194.079 88.5671 197 101.396 197 116.629C197 131.936 194.079 144.801 188.238 155.224C182.397 165.647 170.167 170.859 151.548 170.859H111.462L119.129 210H80.9048ZM92.9524 79.8933L142.899 88.6534C145.022 89.2055 146.988 89.6493 148.798 90.0579C155.605 91.5947 160.21 92.6343 162.7 97.0631C165.852 102.631 167.429 109.483 167.429 117.62C167.429 125.796 165.852 132.668 162.7 138.235C159.547 143.803 152.947 146.587 142.899 146.587H120.083L106.334 145.493L92.9524 79.8933Z",fill:"white"})]})}),(0,f.jsx)("h3",{className:"mb-4 text-2xl text-white font-semibold",children:h}),(0,f.jsx)("p",{className:"mt-1 text-white opacity-80",children:v("CollectNFTTrulyOwn")}),(0,f.jsxs)("div",{className:"mt-6",children:[(0,f.jsx)("p",{className:"text-gray-400 text-sm mb-2 text-center",children:v("You need NEAR account to login")}),(0,f.jsxs)(i.Z,{className:"mt-2 px-1 h-12",size:"md",isFullWidth:!0,onClick:function(){return u.Z.login()},children:[(0,f.jsx)(o.r9,{className:"rounded-full absolute h-6 w-6 top-0 bottom-0 left-3 m-auto"}),v("Login with NEAR")]}),x.UK&&(0,f.jsxs)(i.Z,{className:"mt-4 px-1 hidden md:block",size:"md",variant:"white",isFullWidth:!0,onClick:g,children:[(0,f.jsx)("div",{className:"absolute h-7 w-7 top-0 bottom-0 left-2 m-auto flex items-center justify-center",children:(0,f.jsx)(l.Z,{size:24})}),v("Login with Sender Wallet"),(0,f.jsx)("span",{className:"bg-white text-primary font-bold rounded-full px-2 text-sm absolute right-2",style:{boxShadow:"rgb(83 97 255) 0px 0px 5px 1px"},children:"beta"})]})]}),(0,f.jsx)("div",{className:"absolute -top-4 -right-4 cursor-pointer",onClick:n,children:(0,f.jsx)(o.IF,{size:32})})]})})}},35338:function(e,t,n){var r=n(92809),a=n(30266),s=n(809),i=n.n(s),c=n(42283),o=n(31427),l=n(81941),d=n(7570),u=n(32275),m=n(49566),p=n(54929),x=n(88154),f=n(88054),h=n(77084),v=n(39499),j=n.n(v),g=n(60035),_=n(67294),b=n(53367),y=n(4866),w=n(71870),k=n(35277),N=n(93440),C=n(12954),S=n(85893);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t,n,r,s=e.data,v=e.show,E=e.onClose,O=e.bidAmount,A=e.bidQuantity,T=e.onSuccess,F=e.fromDetail,I=void 0===F||F,D=e.setShowModal,B=e.tokenType,R=void 0===B?"token":B,P=(0,_.useState)(!1),L=P[0],M=P[1],z=(0,_.useState)(!1),U=z[0],G=z[1],W=(0,b.Z)(s.metadata.creator_id),H=(0,d.Y)().localeLn,q=(0,c.cI)({defaultValues:{bidAmount:O,bidQuantity:A}}),Y=q.errors,V=q.register,K=q.handleSubmit,J=q.watch,Q=q.setValue,X=(0,_.useState)(!1),$=X[0],ee=X[1],te=(0,_.useState)(!1),ne=te[0],re=te[1],ae=(0,o.Z)((function(e){return{currentUser:e.currentUser,userBalance:e.userBalance,setTransactionRes:e.setTransactionRes}})),se=ae.currentUser,ie=ae.userBalance,ce=ae.setTransactionRes,oe=(0,_.useState)(!0),le=oe[0],de=oe[1];(0,_.useEffect)((function(){v&&(0,C.VJ)(s.token_id)}),[v]),(0,_.useEffect)((function(){s.token_id||"paras-comic-dev.testnet,comic.paras.near,nft-premium-land.l2e.near".split(";").includes(null===s||void 0===s?void 0:s.contract_id)||de(!1)}),[v]),(0,_.useEffect)((function(){v&&function(){var e=(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Z({nft_contract_id:s.contract_id,buyer_id:se},s.token_id?{token_id:s.token_id}:{token_series_id:s.token_series_id}),e.next=4,k.default.viewFunction({methodName:"get_offer",contractId:"marketplace.paras.near",args:t});case 4:n=e.sent,ee(!0),Q("bidAmount",(0,h.formatNearAmount)(n.price)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[v]);var ue=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.default.viewFunction({methodName:"storage_balance_of",contractId:"marketplace.paras.near",args:{account_id:se}});case 3:return t=e.sent,e.next=6,k.default.viewFunction({methodName:"get_supply_by_owner_id",contractId:"marketplace.paras.near",args:{account_id:se}});case 6:if(n=e.sent,r=j().multiply(j().BigInt(parseInt(n)+1),j().BigInt(f.STORAGE_ADD_MARKET_FEE)),!j().greaterThanOrEqual(j().BigInt(t),r)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 13:e.prev=13,e.t0=e.catch(0),(0,x.p)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,a.Z)(i().mark((function e(t){var n,r,a,c,o,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bidAmount,re(!0),e.next=4,ue();case 4:if(r=e.sent,(0,C.n9)(s.token_id),e.prev=6,c={receiver_id:se},o=Z(Z({nft_contract_id:s.contract_id},s.token_id?{token_id:s.token_id}:{token_series_id:s.token_series_id}),{},{ft_token_id:"near",price:(0,h.parseNearAmount)(n)}),!r){e.next=15;break}return e.next=12,k.default.signAndSendTransaction({receiverId:"marketplace.paras.near",actions:[{methodName:"add_offer",args:o,deposit:(0,h.parseNearAmount)(n),gas:f.GAS_FEE}]});case 12:l=e.sent,e.next=18;break;case 15:return e.next=17,k.default.signAndSendTransaction({receiverId:"marketplace.paras.near",actions:[{methodName:"storage_deposit",args:c,deposit:f.STORAGE_ADD_MARKET_FEE,gas:f.GAS_FEE},{methodName:"add_offer",args:o,deposit:(0,h.parseNearAmount)(n),gas:f.GAS_FEE}]});case 17:l=e.sent;case 18:null!==(a=l)&&void 0!==a&&a.response&&(E(),ce(null===(d=l)||void 0===d?void 0:d.response),T&&T()),re(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(6),(0,x.p)(e.t0),re(!1);case 26:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[U&&(0,S.jsx)(N.Z,{tokenType:R,data:s,onClose:function(){return G(!1)}}),(0,S.jsx)(u.Z,{isShow:v,close:E,closeOnBgClick:!1,closeOnEscape:!1,children:(0,S.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800  m-auto rounded-md relative",children:[(0,S.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,S.jsx)("div",{className:"cursor-pointer",onClick:E,children:(0,S.jsx)(g.kL,{})})}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:$?"Update Offer":"Place an Offer"}),le&&(0,S.jsxs)(S.Fragment,{children:[" "," ",(0,S.jsx)("span",{className:"text-sm text-white",children:"or"}),(0,S.jsx)("span",{className:"bg-white text-primary font-bold rounded-md px-2 py-1 cursor-pointer hover:bg-slate-300 transition duration-300 text-xs",style:{boxShadow:"rgb(83 97 255) 0px 0px 5px 1px"},onClick:function(){I?(G(!0),E()):D("offerNFT")},children:"Trade NFT"})]})]}),(0,S.jsxs)("p",{className:"text-white mt-2",children:[H("AboutToBid")," ",(0,S.jsx)("b",{children:s.metadata.title}),"."]}),(0,S.jsxs)("form",{onSubmit:K((function(e){return null!==W&&void 0!==W&&W.flag?M(!0):me(e)})),children:[(0,S.jsxs)("div",{className:"mt-4 ",children:[(0,S.jsxs)("label",{className:"block text-sm mb-2 text-white opacity-90",children:[H("AmountIn")," \u24c3"]}),(0,S.jsx)(p.oH,{name:"bidAmount",type:"number",step:"any",ref:V({required:!0,min:.01,max:parseFloat(ie.available/Math.pow(10,24))}),className:"".concat(Y.bidAmount&&"error"),placeholder:"Place your Offer"}),(0,S.jsxs)("div",{className:"mt-2 text-sm text-red-500",children:["required"===(null===(t=Y.bidAmount)||void 0===t?void 0:t.type)&&"Offer amount is required","min"===(null===(n=Y.bidAmount)||void 0===n?void 0:n.type)&&"Minimum 0.01 \u24c3","max"===(null===(r=Y.bidAmount)||void 0===r?void 0:r.type)&&"You don't have enough balance"]})]}),(0,S.jsxs)("div",{className:"mt-4 text-center text-white opacity-90",children:[(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("div",{className:"text-sm",children:"Your balance"}),(0,S.jsxs)("div",{children:[(0,l.gL)(ie.available,24,4)," \u24c3"]})]}),(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)("div",{className:"text-sm",children:H("Total Offer")}),(0,S.jsxs)("div",{children:[J("bidAmount",O||0)," \u24c3"]})]})]}),(null===W||void 0===W?void 0:W.flag)&&(0,S.jsx)("div",{className:"z-20 bottom-0 flex items-center justify-center px-4 mt-4 w-full",children:(0,S.jsx)("p",{className:"text-white text-sm m-2 mt-2 p-1 font-bold w-full mx-auto px-4 text-center rounded-md ".concat(y.M[null===W||void 0===W?void 0:W.flag]),children:H(y.z[null===W||void 0===W?void 0:W.flag])})}),(0,S.jsx)("p",{className:"text-white opacity-80 mt-4 text-sm text-center px-4",children:H("RedirectedToconfirm")}),(0,S.jsxs)("div",{className:"",children:[(0,S.jsx)(m.Z,{disabled:ne,isLoading:ne,className:"mt-4",isFullWidth:!0,size:"md",type:"submit",children:$?"Update":H("Submit offer")}),(0,S.jsx)(m.Z,{variant:"ghost",size:"md",isFullWidth:!0,className:"mt-4",onClick:E,children:H("Cancel")})]})]})]})]})}),L&&(0,S.jsx)(w.Z,{creatorData:W,action:function(){return me(J(O))},setIsShow:function(e){return M(e)},onClose:E,type:"offer"})]})}},3422:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(67294),c=n(49566),o=n(54929),l=n(32275),d=n(60035),u=n(9669),m=n.n(u),p=n(31427),x=n(64672),f=n(7570),h=n(85893),v=[{label:"Art Theft",value:"Art Theft"},{label:"Double Minting",value:"Double Minting"},{label:"Inappropriate Content",value:"Inappropriate Content"},{label:"Harmful Content",value:"Harmful Content"},{label:"Rights Violation",value:"Rights Violation"},{label:"Others",value:"Others"}];t.Z=function(e){var t=e.show,n=e.onClose,a=(0,i.useState)(""),u=a[0],j=a[1],g=(0,i.useState)(""),_=g[0],b=g[1],y=(0,i.useState)(!1),w=y[0],k=y[1],N=(0,p.Z)((function(e){return e.currentUser})),C=(0,x.p)(),S=(0,f.Y)().localeLn;(0,i.useEffect)((function(){t||(b(""),j(""),k(!1))}),[t]);var E=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t=new FormData,"https://script.google.com/macros/s/AKfycbxPWWBt95HqbOgXbmNydLraoh3R-anTqUfRNmKawQhxNumCO2kB7McmqkEybii2DJUARg/exec",N&&t.append("userid",N),t.append("url",window.location.href),t.append("report_type",u),t.append("additional_info",_),e.prev=7,e.next=10,m().post("https://script.google.com/macros/s/AKfycbxPWWBt95HqbOgXbmNydLraoh3R-anTqUfRNmKawQhxNumCO2kB7McmqkEybii2DJUARg/exec",t);case 10:k(!1),C.show({text:(0,h.jsx)("div",{className:"font-semibold text-center text-sm",children:S("ReportToastSuccess")}),type:"success",duration:2500}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),C.show({text:(0,h.jsx)("div",{className:"font-semibold text-center text-sm",children:S("SomethingWentWrong")}),type:"error",duration:2500});case 17:n();case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(l.Z,{isShow:t,close:n,closeOnBgClick:!1,closeOnEscape:!1,children:(0,h.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800 m-4 md:m-auto rounded-md text-white relative",children:[(0,h.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,h.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,h.jsx)(d.kL,{})})}),(0,h.jsx)("div",{className:"font-bold text-2xl mb-2",children:S("ReportTitle")}),(0,h.jsxs)("div",{className:"my-2",children:[(0,h.jsx)("span",{className:"opacity-80 mb-2",children:S("ReportReason")}),(0,h.jsx)(o.JD,{className:"",options:v,onChange:function(e){return j(e.target.value)},value:u})]}),(0,h.jsxs)("div",{className:"my-2",children:[(0,h.jsx)("span",{className:"opacity-80 mb-2",children:S("ReportDetail")}),(0,h.jsx)(o.gj,{className:"resize-none h-24",placeholder:S("ReportDetailPlaceholder"),value:_,onChange:function(e){return b(e.target.value)}})]}),(0,h.jsx)(c.Z,{isDisabled:!u||!_||w,className:"mt-4",size:"md",isFullWidth:!0,onClick:E,children:S(w?"ReportButtonLoading":"ReportButton")})]})})}},34392:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(67294),c=n(49566),o=n(32275),l=n(77084),d=n(3413),u=n(88054),m=n(60035),p=n(7570),x=n(88154),f=n(12954),h=n(53367),v=n(4866),j=n(71870),g=n(31427),_=n(35277),b=n(85893);t.Z=function(e){var t=e.show,n=e.onClose,a=e.data,y=(0,i.useState)(!1),w=y[0],k=y[1],N=(0,g.Z)(),C=N.currentUser,S=N.setTransactionRes,E=(0,i.useState)(!1),Z=E[0],O=E[1],A=(0,i.useState)(!1),T=A[0],F=A[1],I=(0,h.Z)(a.metadata.creator_id),D=(0,p.Y)().localeLn;(0,i.useEffect)((function(){t&&(0,f.bi)(a.token_id)}),[t]);var B=function(){var e=(0,r.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=3;break}return k(!0),e.abrupt("return");case 3:return F(!0),(0,f.tk)(a.token_id),e.prev=5,t={token_id:a.token_id,nft_contract_id:a.contract_id,ft_token_id:a.ft_token_id,price:a.price},e.next=9,_.default.callFunction({contractId:"marketplace.paras.near",methodName:"buy",args:t,gas:u.GAS_FEE_150,deposit:a.price});case 9:null!==(r=e.sent)&&void 0!==r&&r.response&&(n(),S(null===r||void 0===r?void 0:r.response)),F(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),(0,x.p)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{isShow:t,closeOnBgClick:!1,closeOnEscape:!1,close:n,children:(0,b.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800 m-4 md:m-auto rounded-md relative",children:[(0,b.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,b.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,b.jsx)(m.kL,{})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:D("ConfirmBuy")}),(0,b.jsxs)("p",{className:"text-white mt-2",children:[D("AreAboutToPurchase")," ",(0,b.jsx)("b",{children:a.metadata.title})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{className:"mt-2 text-sm text-red-500"})}),(0,b.jsx)("div",{className:"mt-4 text-center",children:(0,b.jsx)("div",{className:"text-white my-1",children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("div",{className:"text-sm",children:D("Total")}),(0,b.jsx)("div",{className:"text",children:a.price&&"".concat((0,l.formatNearAmount)(a.price)," \u24c3")})]})})}),(null===I||void 0===I?void 0:I.flag)&&(0,b.jsx)("div",{className:"z-20 bottom-0 flex items-center justify-center px-4 mt-4 w-full",children:(0,b.jsx)("p",{className:"text-white text-sm m-2 mt-2 p-1 font-bold w-full mx-auto px-4 text-center rounded-md ".concat(v.M[null===I||void 0===I?void 0:I.flag]),children:D(v.z[null===I||void 0===I?void 0:I.flag])})}),(0,b.jsx)("p",{className:"text-white mt-4 text-sm text-center opacity-90 px-4",children:D("RedirectedToconfirm")}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)(c.Z,{size:"md",isFullWidth:!0,onClick:function(){return null!==I&&void 0!==I&&I.flag?O(!0):B()},isLoading:T,isDisabled:T,children:"0"!==a.price?D("Buy"):D("GetForFree")}),(0,b.jsx)(c.Z,{variant:"ghost",size:"md",isFullWidth:!0,className:"mt-4",onClick:n,children:D("Cancel")})]})]})]})}),Z&&(0,b.jsx)(j.Z,{creatorData:I,action:B,setIsShow:function(e){return O(e)},onClose:n}),(0,b.jsx)(d.Z,{onClose:function(){return k(!1)},show:w})]})}},65548:function(e,t,n){var r=n(67294),a=n(22e3),s=n(85893);t.Z=function(e){var t=e.show,n=e.onClose,i=e.listModalItem,c=(0,r.useState)(!1),o=c[0],l=c[1],d=[{name:o?"Copied":"Copy Link",onClick:function(){navigator.clipboard.writeText(window.location.href),l(!0),setTimeout((function(){l(!1)}),3e3)}}].concat(i);return(0,s.jsx)(a.Z,{list:d,show:t,onClose:n})}},29914:function(e,t,n){var r=n(16573),a=n(1020),s=n(46616),i=n(87385),c=n(38168),o=n(44276),l=n(22e3),d=n(85893),u=function(e){var t=e.show,n=e.onClose,u=e.tokenData,m=[{name:(0,d.jsxs)(r.Z,{url:window.location.href,className:"flex text-white",children:[(0,d.jsx)(a.Z,{size:24,round:!0}),(0,d.jsx)("p",{className:"ml-3",children:"Facebook"})]}),onClick:function(){}},{name:(0,d.jsxs)(s.Z,{title:"Checkout ".concat(u.metadata.title," from collection ").concat(u.metadata.collection," on @ParasHQ\n\n#paras #cryptoart #digitalart #tradingcards"),url:window.location.href,className:"flex text-white",children:[(0,d.jsx)(i.Z,{size:24,round:!0}),(0,d.jsx)("p",{className:"ml-3",children:"Twitter"})]}),onClick:function(){}},{name:(0,d.jsxs)(c.Z,{url:window.location.href,className:"flex text-white",children:[(0,d.jsx)(o.Z,{size:24,round:!0}),(0,d.jsx)("p",{className:"ml-3",children:"Telegram"})]}),onClick:function(){}}];return(0,d.jsx)(l.Z,{show:t,onClose:n,list:m})};t.Z=function(e){var t=e.show,n=e.onClose,r=e.tokenData;return(0,d.jsx)(u,{show:t,onClose:n,tokenData:r})}},66256:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(67294),c=n(49566),o=n(32275),l=n(3413),d=n(54929),u=n(88054),m=n(60035),p=n(64941),x=n.n(p),f=n(9669),h=n.n(f),v=n(64672),j=n(7570),g=n(88154),_=n(12954),b=n(31427),y=n(35277),w=n(85893);t.Z=function(e){var t=e.show,n=e.onClose,a=e.data,p=(0,i.useState)(!1),f=p[0],k=p[1],N=(0,i.useState)(""),C=N[0],S=N[1],E=(0,i.useState)(!1),Z=E[0],O=E[1],A=(0,b.Z)().currentUser,T=(0,v.p)(),F=(0,j.Y)().localeLn,I=function(){var e=(0,r.Z)(s().mark((function e(){var t,r,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=3;break}return k(!0),e.abrupt("return");case 3:if(O(!0),t={token_id:a.token_id,receiver_id:C},e.prev=5,C!==A){e.next=8;break}throw new Error("Cannot transfer to self");case 8:return r=x()("production"),e.next=11,h().post(r.nodeUrl,{jsonrpc:"2.0",id:"dontcare",method:"query",params:{request_type:"view_account",finality:"final",account_id:C}});case 11:if(!e.sent.data.error){e.next=14;break}throw new Error("Account ".concat(C," not exist"));case 14:e.next=23;break;case 16:return e.prev=16,e.t0=e.catch(5),(0,g.p)(e.t0),i=e.t0.message||"Something went wrong, try again later",T.show({text:(0,w.jsx)("div",{className:"font-semibold text-center text-sm",children:i}),type:"error",duration:2500}),O(!1),e.abrupt("return");case 23:return(0,_.ux)(a.token_id),e.prev=24,e.next=27,y.default.callFunction({contractId:a.contract_id,methodName:"nft_transfer",args:t,gas:u.GAS_FEE,deposit:"1"});case 27:if(null===(c=e.sent)||void 0===c||!c.response.error){e.next=33;break}return T.show({text:(0,w.jsx)("div",{className:"font-semibold text-center text-sm",children:null===c||void 0===c?void 0:c.response.error.kind.ExecutionError}),type:"error",duration:2500}),e.abrupt("return");case 33:c&&(n(),S(""),T.show({text:(0,w.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully transferred to ".concat(C)}),type:"success",duration:2500}));case 34:O(!1),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(24),(0,g.p)(e.t1),O(!1);case 41:case"end":return e.stop()}}),e,null,[[5,16],[24,37]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.Z,{isShow:t,closeOnBgClick:!1,closeOnEscape:!1,close:n,children:(0,w.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800 m-auto rounded-md relative",children:[(0,w.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,w.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,w.jsx)(m.kL,{})})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:F("Confirm Transfer")}),(0,w.jsxs)("p",{className:"text-white mt-2",children:[F("AreAboutToSend")," ",(0,w.jsx)("b",{children:a.metadata.title})," ",F("To"),":"]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)("div",{className:"mt-2 text-sm text-red-500"})}),(0,w.jsx)("div",{className:"flex justify-between rounded-md border-transparent w-full relative ".concat(null),children:(0,w.jsx)(d.oH,{type:"text",name:"",step:"any",value:C,onChange:function(e){return S(e.target.value)},placeholder:"Account ID (abc.near)"})}),(0,w.jsx)("p",{className:"text-white mt-4 text-sm text-center opacity-90 px-4",children:F("RedirectedToconfirm")}),(0,w.jsx)("div",{className:"mt-6",children:(0,w.jsx)(c.Z,{size:"md",isFullWidth:!0,onClick:I,isDisabled:Z,isLoading:Z,children:F("Transfer")})})]})]})}),(0,w.jsx)(l.Z,{onClose:function(){return k(!1)},show:f})]})}},70357:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(67294),a=n(32275),s=n(60035),i=n(7570),c=n(81941),o=n(11163),l=n(30266),d=n(809),u=n.n(d),m=n(49566),p=n(77084),x=n(39499),f=n.n(x),h=n(54929),v=n(88054),j=n(88154),g=n(12954),_=n(42283),b=n(31427),y=n(83019),w=n(35277),k=n(64672),N=n(8100),C=n(9669),S=n.n(C),E=n(85893),Z=function(e){var t,n,a=e.show,o=e.onClose,d=e.data,x=(0,r.useState)(d.price?(0,p.formatNearAmount)(d.price):""),C=x[0],Z=x[1],O=(0,r.useState)(!1),A=O[0],T=O[1],F=(0,r.useState)(null),I=F[0],D=F[1],B=(0,r.useState)(!1),R=B[0],P=B[1],L=(0,r.useState)(!1),M=L[0],z=L[1],U=(0,_.cI)(),G=U.register,W=U.handleSubmit,H=U.errors,q=(0,b.Z)((function(e){return e.currentUser})),Y=(0,b.Z)((function(e){return e.setTransactionRes})),V=(0,r.useState)(!1),K=V[0],J=V[1],Q=(0,r.useState)(""),X=Q[0],$=Q[1],ee=(0,i.Y)().localeLn,te=(0,k.p)(),ne=((null===I||void 0===I?void 0:I.next_fee)||0)>((null===I||void 0===I?void 0:I.current_fee)||0),re=ee("DynamicTxFee",{date:(0,c.sG)(1e3*((null===I||void 0===I?void 0:I.start_time)||0)),fee:((null===I||void 0===I?void 0:I.current_fee)||0)/100});(0,r.useEffect)((function(){a&&function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.default.viewFunction({methodName:"get_transaction_fee",contractId:"marketplace.paras.near"});case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),(0,r.useEffect)((function(){if(null!==d&&void 0!==d&&d.transaction_fee&&C){var e=(null===d||void 0===d?void 0:d.transaction_fee)/1e4*100;$(e.toString())}}),[a,C]),(0,r.useEffect)((function(){(function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().get("".concat("https://api-v2-mainnet.paras.id","/offers"),{params:{buyer_id:q}});case 2:e.sent.data.data.results.some((function(e){return"trade"===e.type&&e.buyer_token_id===(null===d||void 0===d?void 0:d.token_id)}))?J(!0):J(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),(0,r.useEffect)((function(){q&&setTimeout((function(){ae()}),250)}),[q]);var ae=function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.default.viewFunction({methodName:"storage_balance_of",contractId:"marketplace.paras.near",args:{account_id:q}});case 3:return t=e.sent,e.next=6,w.default.viewFunction({methodName:"get_supply_by_owner_id",contractId:"marketplace.paras.near",args:{account_id:q}});case 6:n=e.sent,r=f().multiply(f().BigInt(parseInt(n)+1),f().BigInt(v.STORAGE_ADD_MARKET_FEE)),f().greaterThanOrEqual(f().BigInt(t),r)?T(!1):T(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,j.p)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:return P(!0),(0,g.Sk)(d.token_id),e.prev=4,t=[],A&&t.push({receiverId:"marketplace.paras.near",functionCalls:[{methodName:"storage_deposit",contractId:"marketplace.paras.near",args:{receiver_id:q},attachedDeposit:v.STORAGE_ADD_MARKET_FEE,gas:v.GAS_FEE}]}),n={token_id:d.token_id,account_id:"marketplace.paras.near",msg:JSON.stringify({price:(0,p.parseNearAmount)(C),market_type:"sale",ft_token_id:"near"})},t.push({receiverId:d.contract_id,functionCalls:[{methodName:"nft_approve",contractId:d.contract_id,args:n,attachedDeposit:d.approval_id?"1":v.STORAGE_APPROVE_FEE,gas:v.GAS_FEE_200}]}),e.next=11,w.default.multipleCallFunction(t);case 11:null!==(r=e.sent)&&void 0!==r&&r.response&&(o(),Y(null===r||void 0===r?void 0:r.response)),P(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),(0,j.p)(e.t0),P(!1);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,l.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q){e.next=3;break}return e.abrupt("return");case 3:return z(!0),(0,g._y)(d.token_id),n=[],e.prev=6,n.push({receiverId:"marketplace.paras.near",functionCalls:[{methodName:"delete_market_data",contractId:"marketplace.paras.near",args:{token_id:d.token_id,nft_contract_id:d.contract_id},attachedDeposit:"1",gas:v.GAS_FEE}]}),!K&&n.push({receiverId:d.contract_id,functionCalls:[{methodName:"nft_revoke",contractId:d.contract_id,args:{token_id:d.token_id,account_id:"marketplace.paras.near"},attachedDeposit:"1",gas:v.GAS_FEE}]}),e.next=11,w.default.multipleCallFunction(n);case 11:if(null===(r=e.sent)||void 0===r||!r.response.error){e.next=17;break}return te.show({text:(0,E.jsx)("div",{className:"font-semibold text-center text-sm",children:null===r||void 0===r?void 0:r.response.error.kind.ExecutionError}),type:"error",duration:2500}),e.abrupt("return");case 17:r&&(te.show({text:(0,E.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully remove listing ".concat(d.metadata.title)}),type:"success",duration:2500}),setTimeout((function(){(0,N.JG)("".concat(d.contract_id,"::").concat(d.token_series_id,"/").concat(d.token_id)),o()}),2500));case 18:z(!1),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),(0,j.p)(e.t0);case 24:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){if(C&&f().greaterThan(f().BigInt((0,p.parseNearAmount)(C)),f().BigInt(0))){var e;e=null!==I&&void 0!==I&&I.start_time&&new Date>new Date(1e3*(null===I||void 0===I?void 0:I.start_time))?f().BigInt((null===I||void 0===I?void 0:I.next_fee)||0):f().BigInt((null===I||void 0===I?void 0:I.current_fee)||0);var t=Object.keys(d.royalty).length>0?f().divide(f().multiply(f().BigInt((0,p.parseNearAmount)(C)),f().BigInt(Object.values(d.royalty).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0))),f().BigInt(1e4)):f().BigInt(0);t.toString()===(0,p.parseNearAmount)(C)&&(e=f().BigInt(0));var n=f().divide(f().multiply(f().BigInt((0,p.parseNearAmount)(C)),e),f().BigInt(1e4)),r=f().add(t,n),a=f().subtract(f().BigInt((0,p.parseNearAmount)(C)),r);return{receive:(0,p.formatNearAmount)(a.toString()),royalty:(0,p.formatNearAmount)(t.toString()),fee:(0,p.formatNearAmount)(n.toString())}}return{receive:0,royalty:0,fee:0}};return(0,E.jsxs)("form",{children:[(0,E.jsxs)("div",{className:"mt-4",children:[(0,E.jsxs)("label",{className:"block text-sm text-white mb-2",children:[ee("NewPrice")," ",d.price&&"(".concat(ee("CurrentPrice"),": ").concat((0,p.formatNearAmount)(d.price)," \u24c3)")]}),(0,E.jsxs)("div",{className:"flex justify-between rounded-md border-transparent w-full relative",children:[(0,E.jsx)(h.oH,{type:"number",name:"newPrice",step:"any",value:C,onChange:function(e){return Z(e.target.value)},placeholder:"Card price per pcs",className:H.newPrice&&"error",ref:G({min:0,max:999999999})}),(0,E.jsx)("div",{className:"absolute inset-y-0 right-3 flex items-center text-white",children:"\u24c3"})]}),(0,E.jsxs)("div",{className:"mt-2 text-sm text-red-500",children:["min"===(null===(t=H.newPrice)||void 0===t?void 0:t.type)&&"Minimum 0","max"===(null===(n=H.newPrice)||void 0===n?void 0:n.type)&&"Maximum 999,999,999 \u24c3"]}),(0,E.jsxs)("div",{className:"flex items-center justify-between ".concat(ne?"text-gray-300":"text-gray-200"),children:[(0,E.jsxs)("span",{children:[ee("Receive"),":"]}),(0,E.jsxs)("span",{children:[ce().receive," \u24c3"]})]}),(0,E.jsxs)("div",{className:"flex items-center justify-between ".concat(ne?"text-gray-300":"text-gray-200"),children:[(0,E.jsxs)("span",{children:[ee("Royalty"),":"]}),(0,E.jsxs)("span",{children:[ce().royalty," \u24c3"]})]}),(0,E.jsxs)("div",{className:"flex items-center justify-between ".concat(ne?"font-bold text-white":"text-gray-200"),children:[(0,E.jsx)(y.Z,{id:"text-fee",show:ne,text:re,className:"font-normal",children:(0,E.jsxs)("span",{children:[ee("Fee"),ne&&(0,E.jsx)(s.aU,{size:10,color:"#ffffff"}),":"]})}),(0,E.jsx)(y.Z,{id:"text-number",show:ne,text:re,className:"font-normal",place:"left",children:(0,E.jsxs)("span",{children:[" ",ce().fee," \u24c3"]})})]}),d.transaction_fee&&I&&"".concat(null===I||void 0===I?void 0:I.current_fee)!==d.transaction_fee&&(0,E.jsx)("div",{className:"flex items-center",children:(0,E.jsx)(y.Z,{id:"locked-fee",show:!0,text:"This is the current locked transaction fee. Every update to the NFT price will also update the value according to the global transaction fee.",className:"font-normal",type:"light",children:(0,E.jsxs)("div",{className:"border-primary p-1 rounded-md border-2 text-xs mr-1 flex",children:[(0,E.jsxs)("span",{className:"text-white font-semibold",children:[ee("LockedFee")," :"]}),(0,E.jsxs)("span",{className:"text-white font-semibold",children:[" ",X," %"]})]})})}),(0,E.jsx)("div",{className:"mt-2 text-sm text-red-500"}),!d.approval_id&&(0,E.jsx)("div",{children:(0,E.jsx)("div",{className:"mt-4 text-center",children:(0,E.jsx)("div",{className:"text-white my-1",children:(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("div",{className:"text-sm",children:ee("StorageFee")}),(0,E.jsxs)("div",{className:"text",children:[A?parseFloat((0,p.formatNearAmount)(v.STORAGE_APPROVE_FEE))+parseFloat((0,p.formatNearAmount)(v.STORAGE_ADD_MARKET_FEE)):(0,p.formatNearAmount)(v.STORAGE_APPROVE_FEE)," \u24c3"]})]})})})}),(0,E.jsx)("p",{className:"text-white mt-4 text-sm text-center opacity-90 px-4",children:ee("RedirectedToconfirm")})]}),(0,E.jsxs)("div",{className:"mt-6",children:[(0,E.jsx)(m.Z,{type:"submit",size:"md",isFullWidth:!0,isDisabled:""===C||R,isLoading:R,onClick:W(se),children:ee("UpdateListing")}),(0,E.jsx)(m.Z,{className:"mt-4",type:"submit",variant:"ghost",size:"md",isFullWidth:!0,onClick:ie,isDisabled:!d.price||M,isLoading:M,children:ee("RemoveListing")})]})]})},O=n(53367),A=n(4866),T=function(e){var t,n,a,s,o,d,x=e.data,y=e.onClose,N=(0,r.useState)(!1),C=N[0],S=N[1],Z=(0,O.Z)(x.metadata.creator_id),T=(0,i.Y)().localeLn,F=(0,_.cI)(),I=F.errors,D=F.register,B=F.handleSubmit,R=F.watch,P=F.setValue,L=(0,r.useState)(!1),M=L[0],z=L[1],U=(0,r.useState)(),G=U[0],W=U[1],H=(0,b.Z)((function(e){return{currentUser:e.currentUser,userBalance:e.userBalance,setTransactionRes:e.setTransactionRes}})),q=H.currentUser,Y=H.setTransactionRes,V=(0,r.useState)(!1),K=V[0],J=V[1],Q=(0,k.p)();(0,r.useEffect)((function(){$(),ne()}),[R,G]),(0,r.useEffect)((function(){var e=new Date;e.setUTCMinutes(e.getUTCMinutes()+10),P("timeExpirationDate","".concat(e.getUTCHours(),":").concat(e.getUTCMinutes()))}),[]),(0,r.useEffect)((function(){q&&setTimeout((function(){X()}),250)}),[q]);var X=function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.default.viewFunction({methodName:"storage_balance_of",contractId:"marketplace.paras.near",args:{account_id:q}});case 3:return t=e.sent,e.next=6,w.default.viewFunction({methodName:"get_supply_by_owner_id",contractId:"marketplace.paras.near",args:{account_id:q}});case 6:n=e.sent,r=f().multiply(f().BigInt(parseInt(n)+1),f().BigInt(v.STORAGE_ADD_MARKET_FEE)),f().greaterThanOrEqual(f().BigInt(t),r)?S(!1):S(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,j.p)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e,t,n=String(R("timeExpirationDate"));""!==n&&(e=n.split(":")[0],t=n.split(":")[1]),function(e,t,n){var r=new Date,a=new Date(r.toUTCString().slice(0,-4)),s=new Date(e);a.setUTCDate(s.getDate()),a.setUTCMonth(s.getMonth()),a.setUTCHours(t),a.setUTCMinutes(n);var i="".concat(a.getTime(),"000000");W(i)}(R("expirationDate"),parseInt(e),parseInt(t))},ee=function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:return z(!0),(0,g.Sk)(x.token_id),e.prev=4,t=[],C&&t.push({receiverId:"marketplace.paras.near",functionCalls:[{methodName:"storage_deposit",contractId:"marketplace.paras.near",args:{receiver_id:q},attachedDeposit:v.STORAGE_ADD_MARKET_FEE,gas:v.GAS_FEE}]}),n={token_id:x.token_id,account_id:"marketplace.paras.near",msg:JSON.stringify({price:(0,p.parseNearAmount)((0,c.gL)((0,p.formatNearAmount)((0,p.parseNearAmount)(R("startingBid"))),0,2)),ft_token_id:"near",market_type:"sale",ended_at:G,is_auction:!0})},t.push({receiverId:x.contract_id,functionCalls:[{methodName:"nft_approve",args:n,gas:v.GAS_FEE,attachedDeposit:"440000000000000000000"}]}),e.next=11,w.default.multipleCallFunction(t);case 11:null!==(r=e.sent)&&void 0!==r&&r.response.error?Q.show({text:(0,E.jsx)("div",{className:"font-semibold text-center text-sm",children:null===r||void 0===r?void 0:r.response.error.kind.ExecutionError}),type:"error",duration:2500}):r&&(y(),Y(null===r||void 0===r?void 0:r.response),Q.show({text:(0,E.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully create auction"}),type:"success",duration:2500})),z(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),(0,j.p)(e.t0),z(!1);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),te=function(e){var t=new Date;if("min"===e)return"".concat(t.toISOString().split("T")[0]);if("max"===e){var n=t.getDate();return t.setDate(n+4),"".concat(t.toISOString().split("T")[0])}},ne=function(){var e=new Date,t=new Date(e.toUTCString()),n="".concat(t.getTime(),"000000");J(G>n)};return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("form",{onSubmit:B((function(e,t,n,r){return ee(e,t,n,r)})),children:[(0,E.jsxs)("div",{className:"mt-4",children:[(0,E.jsxs)("div",{className:"flex justify-between items-center",children:[(0,E.jsxs)("div",{className:"text-white",children:[(0,E.jsx)("label",{className:"block font-bold opacity-90",children:T("StartingBid")}),(0,E.jsx)("p",{className:"text-sm font-thin",children:T("DescStartingBid")})]}),(0,E.jsx)(h.oH,{name:"startingBid",type:"number",step:"any",ref:D({required:!0,min:.1}),placeHolder:"\u24c3",className:"".concat(I.startingBid&&"error")})]}),(0,E.jsxs)("div",{className:"mt-2 text-sm text-red-500 text-right",children:["required"===(null===(t=I.startingBid)||void 0===t?void 0:t.type)&&"Starting bid is required","min"===(null===(n=I.startingBid)||void 0===n?void 0:n.type)&&"Minimum 0.1 \u24c3"]})]}),(0,E.jsxs)("div",{className:"mt-4",children:[(0,E.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,E.jsxs)("label",{className:"text-white block font-bold opacity-90",children:[T("ExpirationDate"),(0,E.jsx)("p",{className:"text-white text-sm font-thin text-justify",style:{wordBreak:"break-all"},children:T("DescExpirationDate")})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)(h.oH,{name:"expirationDate",type:"date",min:te("min"),max:te("max"),ref:D({required:!0,min:te("min"),max:te("max")}),value:R("expirationDate"),className:"".concat(I.expirationDate&&"error")}),(0,E.jsxs)("div",{className:"mt-2 text-sm text-red-500 text-right",children:["required"===(null===(a=I.expirationDate)||void 0===a?void 0:a.type)&&"Expiration date is required","min"===(null===(s=I.expirationDate)||void 0===s?void 0:s.type)&&"Minimum date is ".concat(te("min").slice(8,10)),"max"===(null===(o=I.expirationDate)||void 0===o?void 0:o.type)&&"Maximum date is ".concat(te("max").slice(8,10))]}),(0,E.jsxs)("div",{className:"mb-2 flex justify-end items-center gap-2",children:[(0,E.jsx)("p",{className:"text-white text-sm mt-1",children:"UTC"}),(0,E.jsx)(h.oH,{name:"timeExpirationDate",type:"time",step:"any",ref:D({required:!0}),className:"".concat(I.timeExpirationDate&&"error"," w-auto")})]}),(0,E.jsx)("div",{className:"mt-2 text-sm text-red-500 text-right",children:"required"===(null===(d=I.timeExpirationDate)||void 0===d?void 0:d.type)&&"Time expiration date is required"})]})]}),(0,E.jsx)("div",{className:"mt-2 text-sm text-red-500 text-right",children:!K&&"Auction time must be greater than the current time"})]}),(null===Z||void 0===Z?void 0:Z.flag)&&(0,E.jsx)("div",{className:"z-20 bottom-0 flex items-center justify-center px-4 mt-4 w-full",children:(0,E.jsx)("p",{className:"text-white text-sm m-2 mt-2 p-1 font-bold w-full mx-auto px-4 text-center rounded-md ".concat(A.M[null===Z||void 0===Z?void 0:Z.flag]),children:T(A.z[null===Z||void 0===Z?void 0:Z.flag])})}),(0,E.jsx)("p",{className:"text-white opacity-80 mt-4 text-sm text-center px-4",children:T("RedirectedToconfirm")}),(0,E.jsxs)("div",{className:"",children:[K?(0,E.jsx)(m.Z,{disabled:M,isLoading:M,className:"mt-4",isFullWidth:!0,size:"md",type:"submit",children:T("CreateAuction")}):(0,E.jsx)("div",{className:"bg-primary text-gray-400 mt-4 py-3 px-4 text-sm rounded-md text-center bg-opacity-20",children:T("CreateAuction")}),(0,E.jsx)(m.Z,{variant:"ghost",size:"md",isFullWidth:!0,className:"mt-4",onClick:y,children:T("Cancel")})]})]})})},F=function(e){var t=e.show,n=e.onClose,l=e.data,d=(0,r.useState)("updatePrice"),u=d[0],m=d[1],p=(0,i.Y)().localeLn,x=(0,o.useRouter)();(0,r.useEffect)((function(){f(x.query.tab)}),[x.query.tab]);var f=function(e){switch(e){case"createAuction":m("createAuction");break;default:m("updatePrice")}},h=function(e){return(0,E.jsx)("div",{className:"cursor-pointer relative text-center ".concat(u===e?"text-gray-100 border-b-2 border-white font-semibold":"hover:bg-opacity-15 text-gray-100"),onClick:function(){return function(e){m(e)}(e)},children:(0,E.jsx)("div",{className:"capitalize",children:p((0,c.kC)(e))})})};return(0,E.jsx)(a.Z,{isShow:t,closeOnBgClick:!1,closeOnEscape:!1,close:n,children:(0,E.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800 m-auto rounded-md relative",children:[(0,E.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,E.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,E.jsx)(s.kL,{})})}),(0,E.jsxs)("div",{children:[(0,E.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:p("CardListing")}),(0,E.jsxs)("div",{className:"flex mt-3 overflow-x-scroll space-x-4 flex-grow relative overflow-scroll flex-nowrap disable-scrollbars md:-mb-4",children:[h("updatePrice"),h("createAuction")]}),"updatePrice"===u&&(0,E.jsx)(Z,{show:t,onClose:n,data:l}),"createAuction"===u&&(0,E.jsx)(T,{show:t,onClose:n,data:l})]})]})})}},93440:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(30266),a=n(809),s=n.n(a),i=n(7570),c=n(32275),o=n(49566),l=n(88154),d=n(60035),u=n(67294),m=n(80318),p=n(9669),x=n.n(p),f=n(12705),h=n(64672),v=n(81941),j=n(31427),g=n(85893),_=function(e){var t=e.setIsShow,n=e.onClose,a=e.setTradedToken,i=(0,u.useState)(!1),c=i[0],l=i[1],p=(0,u.useState)(""),_=p[0],b=p[1],y=(0,h.p)(),w=(0,j.Z)((function(e){return e.currentUser})),k=function(){var e=(0,r.Z)(s().mark((function e(n){var r,i,c,o,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),l(!0),r=_.replace(/^((https?|ftp|smtp):\/\/)?(www\.)?(paras\.id|localhost:\d+|marketplace-v2-testnet\.paras\.id|testnet\.paras\.id)\/token\//,""),""!==_){e.next=7;break}return y.show({text:(0,g.jsx)("div",{className:"font-semibold text-center text-sm",children:"Please fill your Token URL"}),type:"error",duration:2500}),l(!1),e.abrupt("return");case 7:if(!_||(0,v.Mn)(_)){e.next=11;break}return y.show({text:(0,g.jsx)("div",{className:"font-semibold text-center text-sm",children:"Please enter valid Token URL"}),type:"error",duration:2500}),l(!1),e.abrupt("return");case 11:return i=r.split("/"),c=(0,m.Z)(i,2),o=c[0],d=c[1],e.next=14,N(o,d);case 14:if(0!==(null===(u=e.sent)||void 0===u?void 0:u.length)){e.next=19;break}return y.show({text:(0,g.jsx)("div",{className:"font-semibold text-center text-sm",children:"You are not the owner of the card"}),type:"error",duration:2500}),l(!1),e.abrupt("return");case 19:if(u[0].is_creator){e.next=23;break}return y.show({text:(0,g.jsx)("div",{className:"font-semibold text-center text-sm",children:"The creator of this card is not verified"}),type:"error",duration:2500}),l(!1),e.abrupt("return");case 23:a([r]),t(!1);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={contract_id:t.split("::")[0],token_id:null!==n&&void 0!==n?n:t.split("::")[1],owner_id:w},e.next=3,x().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:r,ttl:60});case 3:return a=e.sent,e.abrupt("return",a.data.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,g.jsx)(f.Z,{close:function(){return t(!1)},children:(0,g.jsxs)("div",{className:"w-full max-w-lg p-4 m-auto bg-gray-800 rounded-md overflow-y-auto max-h-screen relative",children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-white text-center tracking-tight",children:"Add NFT"}),(0,g.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,g.jsx)("div",{className:"cursor-pointer",onClick:function(){return t(!1)},children:(0,g.jsx)(d.kL,{onClick:n})})}),(0,g.jsxs)("div",{className:"mt-2",children:[(0,g.jsx)("input",{type:"text",name:"tokenUrl",onChange:function(e){e.target.value.includes("%")?b(decodeURIComponent(e.target.value)):b(e.target.value)},value:_,className:"resize-none h-auto focus:border-gray-100 text-black",placeholder:"Token URL"})," ",(0,g.jsx)("div",{className:"mt-2",children:(0,g.jsx)("a",{className:"text-white hover:text-opacity-60 text-sm",href:"/".concat(w),target:"_blank",rel:"noreferrer",children:"Go To My Profile"})}),(0,g.jsxs)("div",{className:"mt-2",children:[(0,g.jsx)("p",{className:"text-gray-300 text-sm italic",children:"Please input the link of your own token"}),(0,g.jsx)("p",{className:"text-gray-300 text-sm italic",children:"https://paras.id/token/x.paras.near::1"})]})]}),(0,g.jsx)("div",{className:"mt-4",children:(0,g.jsx)(o.Z,{isDisabled:c,isFullWidth:!0,size:"md",onClick:k,children:c?"Adding...":"Add"})})]})})},b=n(72702),y=n(88054),w=n(39499),k=n.n(w),N=n(35277),C=function(e){var t=e.data,n=e.show,a=e.onClose,m=e.tokenType,p=e.fromUpdate,x=void 0!==p&&p,f=(0,u.useState)(!1),h=f[0],v=f[1],w=(0,u.useState)([]),C=w[0],S=w[1],E=(0,u.useState)(!1),Z=E[0],O=E[1],A=(0,j.Z)((function(e){return{currentUser:e.currentUser,userBalance:e.userBalance,setTransactionRes:e.setTransactionRes}})),T=A.currentUser,F=A.setTransactionRes,I=(0,i.Y)().localeLn,D=(0,u.useState)(!!x)[0];(0,u.useEffect)((function(){var e;x&&S(["".concat(t.contract_id,"::").concat(null===(e=t.buyer_token_id)||void 0===e?void 0:e.split(":")[0],"/").concat(t.buyer_token_id)])}),[n]);var B=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.default.viewFunction({methodName:"storage_balance_of",args:{account_id:T},contractId:"marketplace.paras.near"});case 3:return t=e.sent,e.next=6,N.default.viewFunction({methodName:"get_supply_by_owner_id",args:{account_id:T},contractId:"marketplace.paras.near"});case 6:if(n=e.sent,r=k().multiply(k().BigInt(parseInt(n)+1),k().BigInt(y.STORAGE_ADD_MARKET_FEE)),!k().greaterThanOrEqual(k().BigInt(t),r)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 13:e.prev=13,e.t0=e.catch(0),(0,l.p)(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(s().mark((function e(){var n,r,i,c,o,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,B();case 3:if(n=e.sent,e.prev=4,r={receiver_id:T},i={account_id:"marketplace.paras.near"},"token"===m?(i.token_id=C[0].split("/")[1],i.msg=JSON.stringify({market_type:"add_trade",seller_nft_contract_id:t.contract_id,seller_token_id:t.token_id})):(i.token_id=C[0].split("/")[1],i.msg=JSON.stringify({market_type:"add_trade",seller_nft_contract_id:t.contract_id,seller_token_series_id:t.token_series_id})),!n){e.next=15;break}return e.next=11,N.default.signAndSendTransaction({receiverId:C[0].split("::")[0],actions:[{methodName:"nft_approve",args:i,gas:y.GAS_FEE,deposit:y.STORAGE_APPROVE_FEE}]});case 11:(c=e.sent).error&&c.error.includes("reject")?O(!1):c.response&&(O(!1),a(),F(null===(o=c)||void 0===o?void 0:o.response)),e.next=22;break;case 15:return(d=[]).push({receiverId:"marketplace.paras.near",functionCalls:[{methodName:"storage_deposit",contractId:"marketplace.paras.near",args:r,attachedDeposit:y.STORAGE_ADD_MARKET_FEE,gas:y.GAS_FEE}]}),d.push({receiverId:C[0].split("::")[0],functionCalls:[{methodName:"nft_approve",contractId:C[0].split("::")[0],args:i,attachedDeposit:y.STORAGE_APPROVE_FEE,gas:y.GAS_FEE}]}),e.next=20,N.default.multipleCallFunction(d);case 20:(u=e.sent).error&&u.error.includes("reject")?O(!1):u.response&&(O(!1),a(),F(null===u||void 0===u?void 0:u.response));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),O(!1),(0,l.p)(e.t0);case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.Z,{isShow:n,close:a,closeOnBgClick:!1,closeOnEscape:!1,children:(0,g.jsxs)("div",{className:"max-w-sm w-full p-4 bg-gray-800  m-auto rounded-md relative",children:[(0,g.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,g.jsx)("div",{className:"cursor-pointer",onClick:function(){a(),S([])},children:(0,g.jsx)(d.kL,{})})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:D?"Update Offer NFT via Trade":"Offer NFT via Trade"}),(0,g.jsxs)("div",{className:"mt-4 ",children:[(0,g.jsx)("label",{className:"block mb-2 text-white text-center",children:I("AddNFTTrade")}),(0,g.jsxs)("div",{className:"w-full flex justify-center items-center",children:[C.map((function(e,t){return(0,g.jsx)("div",{className:"flex w-6/12 justify-center",children:(0,g.jsx)(b.Z,{contract_token_id:e,setTradedToken:S})},"".concat(e,"-").concat(t))})),C.length<1&&(0,g.jsx)("div",{className:"flex w-6/12 h-64 items-center justify-center py-20 rounded bg-white bg-opacity-10 text-white cursor-pointer",onClick:function(){v(!h)},children:"Add +"})]})]}),(0,g.jsx)(o.Z,{onClick:R,className:"mt-10",isFullWidth:!0,size:"md",isLoading:Z,children:D?"Update Trade":"Trade"})]})]})}),h&&(0,g.jsx)(_,{setIsShow:v,onClose:function(){v(!h)},setTradedToken:S})]})}},6155:function(e,t,n){n.d(t,{W:function(){return l}});var r=n(67294),a=n(6882),s=n(32453),i=n(81941),c=n(30109),o=n(85893),l=function(e){var t=e.threeDUrl,n=(0,r.useRef)(),l=(0,a.L)((0,i.pf)(t),!0);return(0,c.xQ)((function(){return n.current.rotation.y+=.01})),(0,o.jsxs)("mesh",{ref:n,children:[(0,o.jsx)("primitive",{object:l.scene,dispose:null}),(0,o.jsx)(s.z,{}),(0,o.jsx)("ambientLight",{})]})}},33619:function(e,t,n){var r=n(80318),a=n(83789),s=n(30266),i=n(809),c=n.n(i),o=n(42119),l=n.n(o),d=n(84614),u=n(77084),m=n(67294),p=n(81941),x=n(58533),f=n(7570),h=n(19286),v=n(11163),j=n(41664),g=n(63140),_=n(60035),b=n(85893),y=function(e){var t=e.activity,n=(0,v.useRouter)(),a=(0,f.Y)().localeLn,i=(0,m.useState)([]),o=i[0],x=i[1];(0,m.useEffect)((function(){t.type.includes("trade")&&_()}),[]);var g=function(){var e,r;n.push("/token/".concat(o.contract_id,"::").concat(o.token_series_id).concat((null===(e=t.msg)||void 0===e||null===(r=e.params)||void 0===r?void 0:r.buyer_token_id)&&"/".concat(o.token_id)))},_=function(){var e=(0,s.Z)(c().mark((function e(){var n,r,a,s,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={token_id:null===(n=t.msg)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.buyer_token_id,contract_id:null===(a=t.msg)||void 0===a||null===(s=a.params)||void 0===s?void 0:s.buyer_nft_contract_id,__limit:1},e.next=3,l().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:i,ttl:30});case 3:o=e.sent,x(o.data.data.results[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){var n,s,i,c,l=e.type,m=e.msg;if("add_market_data"===l&&m.params.is_auction)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.owner_id}),(0,b.jsxs)("span",{children:[" ",a("put on auction for")," ",(0,p.gL)(t.msg.params.price,24,2)," \u24c3"]})]});if("add_bid"===l)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.bidder_id}),(0,b.jsxs)("span",{children:[" ",a("add bid for")," ",(0,u.formatNearAmount)(t.msg.params.amount)," \u24c3"]})]});if("cancel_bid"===l)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.bidder_id}),(0,b.jsxs)("span",{children:[" ",a("cancel bid from auction")]})]});if("add_market_data"===l||"update_market_data"===l)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.owner_id}),(0,b.jsxs)("span",{children:[" ",a("PutOnSaleFor")," ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})]});if("add_trade"===l||"delete_trade"===l)return(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:" mb-2",children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.buyer_id}),(0,b.jsxs)("span",{children:[" ",l.includes("add")?"added":"deleted"," offer NFT trade"," ",(0,b.jsx)("span",{className:"font-semibold",children:null===o||void 0===o||null===(n=o.metadata)||void 0===n?void 0:n.title})]})]}),(0,b.jsx)("div",{className:"flex items-center mb-2",children:(0,b.jsx)("div",{className:"z-20 max-h-40 w-24 cursor-pointer border-4 border-gray-700 rounded-lg",children:(0,b.jsx)("a",{onClick:function(e){e.preventDefault(),g()},children:(0,b.jsx)(h.Z,{className:"rounded-lg overflow-hidden",url:(0,p.pf)(null===o||void 0===o||null===(s=o.metadata)||void 0===s?void 0:s.media,null,{width:"600",useOriginal:!1,isMediaCdn:!0}),seeDetails:!0})})})})]});if("accept_trade"===l)return(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:" mb-2",children:[(0,b.jsx)("span",{className:"font-bold",children:t.msg.params.sender_id}),(0,b.jsxs)("span",{children:[" ","accepted NFT trade"," ",(0,b.jsx)("span",{className:"font-semibold",children:null===o||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.title})]})]}),(0,b.jsx)("div",{className:"flex items-center mb-2",children:(0,b.jsx)("div",{className:"z-20 max-h-40 w-24 cursor-pointer border-4 border-gray-700 rounded-lg",children:(0,b.jsx)("a",{onClick:function(e){e.preventDefault(),g()},children:(0,b.jsx)(h.Z,{className:"rounded-lg overflow-hidden",url:(0,p.pf)(null===o||void 0===o||null===(c=o.metadata)||void 0===c?void 0:c.media,null,{width:"600",useOriginal:!1,isMediaCdn:!0}),seeDetails:!0})})})})]});if("delete_market_data"===l)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.msg.params.owner_id}),(0,b.jsxs)("span",{children:[" ",a("RemoveFromSale")]})]});if("nft_transfer"===l&&null!==m&&void 0!==m&&m.is_staked)return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.from}),(0,b.jsxs)("span",{children:[" ",a("StakedTo")," "]}),(0,b.jsx)(j.default,{href:"https://stake.paras.id",children:t.msg.seed_title})]});if("nft_transfer"===l&&null===t.from){var x=t.msg.params.token_id.split(":"),f=(0,r.Z)(x,2)[1];return t.price?(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.to}),(0,b.jsxs)("span",{children:[" ",a("BoughtFrom")," "]}),(0,b.jsx)(d.Z,{accountId:t.from})," ",(0,b.jsxs)("span",{children:[" ",a("for")," ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})]}):t.to===t.creator_id?(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.to}),(0,b.jsxs)("span",{children:[" ",a("minted")," #",f||1]})]}):(0,b.jsxs)("p",{children:[(0,b.jsxs)("span",{children:[a("MintedBy")," "]}),(0,b.jsx)(d.Z,{accountId:t.to})]})}if("nft_transfer"===l&&null===t.to){var v=t.msg.params.token_id.split(":"),_=(0,r.Z)(v,2)[1];return(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.from}),(0,b.jsxs)("span",{children:[" ",a("burned")," #",_||1]})]})}return"resolve_purchase"===l||"nft_transfer"===l?t.price?t.is_offer?(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{className:"text-gray-100 hover:border-gray-100",accountId:t.from}),(0,b.jsxs)("span",{children:[" ",a("accepted offer from")," "]}),(0,b.jsx)(d.Z,{className:"text-gray-100 hover:border-gray-100",accountId:t.to})," ",(0,b.jsxs)("span",{children:[" ",a("for")," ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})]}):(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{className:"text-gray-100 hover:border-gray-100",accountId:t.to}),(0,b.jsxs)("span",{children:[" ",a("BoughtFrom")," "]}),(0,b.jsx)(d.Z,{className:"text-gray-100 hover:border-gray-100",accountId:t.from})," ",(null===t||void 0===t?void 0:t.is_auction)&&"with auction",(0,b.jsxs)("span",{children:[" ",a("for")," ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})]}):(0,b.jsxs)("p",{children:[(0,b.jsx)(d.Z,{accountId:t.from}),(0,b.jsxs)("span",{children:[" ",a("TransferredTo")," "]}),(0,b.jsx)(d.Z,{accountId:t.to})]}):"nft_create_series"===l?(0,b.jsxs)("p",{children:[(0,b.jsxs)("span",{children:[a("SeriesCreatedBy")," "]}),(0,b.jsx)(d.Z,{accountId:t.msg.params.creator_id})]}):"nft_set_series_price"===l?t.msg.params.price?(0,b.jsx)("p",{children:(0,b.jsxs)("span",{children:[a("CreatorOnSale")," ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})}):(0,b.jsx)("p",{children:(0,b.jsx)("span",{children:a("CreatorNotForSale")})}):"nft_set_series_non_mintable"===l?(0,b.jsx)("p",{children:(0,b.jsxs)("span",{children:[a("CreatorNonMintable")," "]})}):"nft_decrease_series_copies"===l?(0,b.jsx)("p",{children:(0,b.jsxs)("span",{children:[a("CreatorDecreaseCopiesTo")," ",t.msg.params.copies," "]})}):"nft_decrease_series_copies"===l?(0,b.jsx)("p",{children:(0,b.jsxs)("span",{children:[a("Creator decrease the series copies to")," ",t.msg.params.copies," "]})}):"add_offer"===l?(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{children:(0,b.jsx)(d.Z,{accountId:t.from})}),(0,b.jsxs)("span",{children:[" ",a("added offer for")]}),(0,b.jsxs)("span",{children:[" ",(0,u.formatNearAmount)(t.msg.params.price)," \u24c3"]})]}):"delete_offer"===l?(0,b.jsx)("p",{children:(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{children:(0,b.jsx)(d.Z,{accountId:t.from})}),(0,b.jsxs)("span",{children:[" ",a("removed offer")]})]})}):null};return"resolve_purchase_fail"===t.type||"notification_add_offer"===t.type?null:(0,b.jsxs)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md flex items-center justify-between relative",children:[(0,b.jsxs)("div",{className:"w-11/12",children:[(0,b.jsx)(y,{type:t.type,msg:t.msg}),(0,b.jsx)("p",{className:"mt-1 text-sm",children:p.Sy.format(new Date(t.msg.datetime))})]}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(w,{activity:t})})]})},w=function(e){var t,n,r=e.activity;return(0,b.jsx)(b.Fragment,{children:g.n&&r.transaction_hash&&(0,b.jsx)("a",{href:"https://".concat("","nearblocks.io/txns/").concat(r.transaction_hash).concat((null===(t=r.msg)||void 0===t?void 0:t.receipt_id)&&"#".concat(null===(n=r.msg)||void 0===n?void 0:n.receipt_id)),target:"_blank",children:(0,b.jsx)("div",{className:"w-8 h-8 rounded-full transition-all duration-200 hover:bg-dark-primary-3 flex items-center justify-center",children:(0,b.jsx)(_.wy,{size:18})})})})};t.Z=function(e){var t=e.localToken,n=(0,m.useState)([]),r=n[0],i=n[1],o=(0,m.useState)(null),d=o[0],u=o[1],p=(0,m.useState)(!0),h=p[0],v=p[1],j=(0,m.useState)(!1),g=j[0],_=j[1],w=(0,f.Y)().localeLn;(0,m.useEffect)((function(){t.token_series_id&&k(!0)}),[t]);var k=function(){var e=(0,s.Z)(c().mark((function e(){var n,s,o,m,p,x,f,j,b=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.length>0&&void 0!==b[0]&&b[0],s=n?null:d,o=n?[]:r,(!!n||h)&&!g){e.next=6;break}return e.abrupt("return");case 6:return _(!0),m={_id_before:s,__limit:12},t.token_id?(m.token_id=t.token_id,m.contract_id=t.contract_id):(m.token_series_id=t.token_series_id,m.contract_id=t.contract_id),e.next=11,l().get("".concat("https://api-v2-mainnet.paras.id","/activities"),{params:m,ttl:30});case 11:p=e.sent,x=p.data.data,f=[].concat((0,a.Z)(o||[]),(0,a.Z)(x.results)),j=!(x.results.length<12),i(f),j&&u(x.results[x.results.length-1]._id),v(j),_(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"text-white",children:(0,b.jsx)(x.Z,{dataLength:r.length,next:k,hasMore:h,scrollableTarget:"TokenScroll",loader:(0,b.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,b.jsx)("div",{className:"text-white text-center",children:w("LoadingLoading")})}),children:r.map((function(e){return(0,b.jsx)(y,{activity:e},e._id)}))})})}},72664:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(92809),a=n(30266),s=n(809),i=n.n(s),c=n(67294),o=n(86964),l=n(60035),d=n(85893),u=function(e){var t=e.text,n=e.small,r=void 0!==n&&n,a=(0,c.useState)(!1),s=a[0],i=a[1];return(0,d.jsx)("div",{children:(0,d.jsx)(o.Z,{link:t,afterCopy:function(){i(!0),setTimeout((function(){i(!1)}),2500)},children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("p",{className:"whitespace-no-wrap truncate text-gray-100 text-right ".concat(r?"w-32":"w-40"),children:t}),s?(0,d.jsx)(l.i_,{size:16,color:"rgba(243, 244, 246)"}):(0,d.jsx)(l.vU,{size:16,color:"rgba(243, 244, 246)"})]})})})},m=n(41664),p=n(53731),x=n(81941),f=n(7570),h=n(11163),v=n(32275),j=n(41237),g=n(31298),_=function(e){var t=e.royalty,n=e.show,r=e.onClose;return(0,d.jsx)(v.Z,{isShow:n,closeOnBgClick:!0,closeOnEscape:!0,close:r,children:(0,d.jsxs)("div",{className:"max-w-sm py-4 w-full bg-gray-800 m-auto rounded-md relative",children:[(0,d.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,d.jsx)("div",{className:"cursor-pointer",onClick:r,children:(0,d.jsx)(l.kL,{})})}),(0,d.jsx)("div",{className:"px-4",children:(0,d.jsx)("p",{className:"text-2xl font-semibold text-gray-100",children:"Royalty"})}),(0,d.jsx)("div",{children:(0,d.jsx)(g.ZP,{autoHeight:!0,autoHeightMax:"20vh",children:(0,d.jsx)("div",{className:"ml-2",children:Object.keys(t).map((function(e,n){return(0,d.jsxs)("div",{className:"flex mt-2",children:[(0,d.jsxs)("div",{className:"w-2/3 flex text-gray-100",children:[(0,d.jsx)(l.Tp,{}),(0,d.jsx)(j.Z,{className:"text-gray-100 hover:border-gray-100",accountId:e})]}),(0,d.jsx)("div",{className:"w-1/3 text-right pr-6",children:(0,d.jsxs)("p",{className:"text-gray-300",children:[t[e]/100,"%"]})})]},n)}))})})})]})})},b=n(42119),y=n.n(b),w=function(e){var t=e.show,n=e.onClose;return(0,d.jsx)(v.Z,{isShow:t,closeOnBgClick:!0,closeOnEscape:!0,close:n,children:(0,d.jsxs)("div",{className:"max-w-sm py-4 w-full bg-gray-800 m-auto rounded-md relative",children:[(0,d.jsx)("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:(0,d.jsx)("div",{className:"cursor-pointer",onClick:n,children:(0,d.jsx)(l.kL,{})})}),(0,d.jsx)("div",{className:"px-4",children:(0,d.jsx)("p",{className:"text-2xl font-semibold text-gray-100 mb-2",children:"Fetching Metadata"})}),(0,d.jsx)("div",{className:"px-4",children:(0,d.jsx)("h4",{className:"text-white text-justify pr-2",children:"The metadata is still indexing. It might take a while to show collection, attributes, and description information."})})]})})},k=n(83019),N=function(e){var t,n,s,o,v=e.localToken,j=e.isNFT,g=(0,f.Y)().localeLn,b=(0,h.useRouter)(),N=(0,c.useState)(""),C=N[0],S=N[1],E=(0,c.useState)([]),Z=E[0],O=E[1],A=(0,c.useState)(""),T=A[0],F=A[1],I=v.metadata.collection_id?{id:v.metadata.collection_id,name:v.metadata.collection}:{id:v.contract_id,name:v.contract_id};(0,c.useEffect)((function(){v.metadata.attributes&&0===Z.length&&D(v.metadata.attributes)}),[Z]);var D=function(){var e=(0,a.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().post("".concat("https://api-v2-mainnet.paras.id","/rarity"),{collection_id:I.id,attributes:t,ttl:120});case 2:return n=e.sent,e.next=5,n.data.data;case 5:r=e.sent,O(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){if(v.transaction_fee){var e=(null===v||void 0===v?void 0:v.transaction_fee)/1e4*100;F(e.toString())}}),[v.transaction_fee]),(0,d.jsxs)("div",{children:["undefined"!==typeof v._is_the_reference_merged&&!v._is_the_reference_merged&&(0,d.jsxs)("div",{className:"flex justify-center gap-2 text-white text-center mt-2 rounded-md p-2",children:[(0,d.jsx)(l.iM,{}),(0,d.jsxs)("div",{className:"flex items-center cursor-pointer hover:opacity-80",onClick:function(){return S("reference")},children:[(0,d.jsx)("h4",{children:"The metadata is still indexing"}),(0,d.jsx)("div",{className:"pl-1",children:(0,d.jsx)(l.aU,{size:16})})]})]}),"royalty"===C&&(0,d.jsx)(_,{show:!0,royalty:v.royalty,onClose:function(){return S("")}}),"reference"===C&&(0,d.jsx)(w,{show:!0,onClose:function(){return S("")}}),v.metadata.description&&(0,d.jsxs)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Description")}),(0,d.jsx)(p.Z,{componentDecorator:function(e,t,n){return(0,d.jsx)("a",{target:"blank",href:e,children:t},n)},children:(0,d.jsx)("p",{className:"text-gray-100 whitespace-pre-line",style:{wordBreak:"break-word"},children:null===(t=v.metadata.description)||void 0===t?void 0:t.replace(/\n\s*\n\s*\n/g,"\n\n")})})]}),j&&(0,d.jsx)("div",{className:"flex bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Owner")}),(0,d.jsx)(m.default,{href:"/".concat(v.owner_id),children:(0,d.jsx)("a",{className:"text-gray-100 font-semibold hover:opacity-80 truncate",children:(0,x.oe)(v.owner_id,30,"address")})})]})}),(0,d.jsx)("div",{className:"flex bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Collection")}),(0,d.jsx)(m.default,{href:"/collection/".concat(I.id),children:(0,d.jsx)("a",{className:"text-gray-100 font-semibold hover:opacity-80",children:(0,x.oe)(I.name,30,"address")})})]})}),v.categories&&0!==v.categories.length&&(0,d.jsx)("div",{className:"flex bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("FeaturedIn")}),null===(n=v.categories)||void 0===n?void 0:n.map((function(e,t){return(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("span",{onClick:function(){return b.push("/market/".concat(e.category_id))},className:"cursor-pointer text-gray-200 font-semibold hover:opacity-80",children:e.name}),t!==v.categories.length-1&&(0,d.jsx)("span",{className:"text-gray-200",children:", "})]},t)}))]})}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("div",{className:"flex flex-1 bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Royalty")}),v.royalty&&Object.keys(v.royalty).length>0?(0,d.jsxs)("div",{className:"flex cursor-pointer hover:opacity-80",onClick:function(){return S("royalty")},children:[(0,d.jsxs)("p",{className:"text-gray-100 font-semibold",children:[Object.values(v.royalty).reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)/100,"%"]}),(0,d.jsx)("div",{className:"pl-2 pt-0.5",children:(0,d.jsx)(l.BS,{size:16})})]}):(0,d.jsx)("p",{className:"text-gray-100 font-semibold",children:"None"})]})}),!j&&v.metadata.copies&&(0,d.jsx)("div",{className:"flex flex-1 bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Copies")}),(0,d.jsx)("p",{className:"text-gray-100 font-semibold",children:v.metadata.copies})]})}),(0,d.jsx)("div",{className:"flex flex-1 bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold",children:g("Views")}),(0,d.jsx)("div",{className:"text-gray-100 font-semibold",children:(0,d.jsxs)("div",{className:"flex gap-1 items-start",children:[(0,d.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),v.view?v.view:"0"]})})]})})]}),v.metadata.attributes&&(0,d.jsx)("div",{className:"flex bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold mb-2",children:g("Attributes")}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-3 whitespace-nowrap",children:null===Z||void 0===Z?void 0:Z.map((function(e,t){var n,a,s;return(0,d.jsx)("div",{className:"p-2 rounded-md border text-center border-gray-700 space-x-1 overflow-x-visible hover:border-gray-400",children:(0,d.jsxs)("a",{href:"/collection/".concat(I.id,"/?attributes=[").concat(JSON.stringify((0,r.Z)({},e.trait_type,e.value)),"]"),children:[(0,d.jsx)("p",{className:"text-white font-light opacity-70 text-sm truncate",children:e.trait_type}),(0,d.jsx)("p",{className:"text-white font-medium text-sm truncate mb-1",children:e.value}),(0,d.jsxs)("p",{className:"text-gray-300 font-light opacity-70 text-sm",children:[(null===(n=e.rarity)||void 0===n?void 0:n.rarity)>1?Math.round(null===(a=e.rarity)||void 0===a?void 0:a.rarity):null===(s=e.rarity)||void 0===s?void 0:s.rarity.toFixed(2),"% rarity"]})]})},t)}))}),(null===(s=v.metadata)||void 0===s?void 0:s.score)&&(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsxs)("p",{className:"text-white text-sm",children:["Rarity Score : ",(0,d.jsxs)("b",{children:[" ",null===(o=v.metadata)||void 0===o?void 0:o.score.toFixed(2)]})]})})]})}),(0,d.jsxs)("div",{className:"bg-gray-800 text-gray-100  mt-3 p-3 rounded-md shadow-md",children:[(0,d.jsx)("p",{className:"text-sm text-white font-bold mb-2",children:g("TokenInfo")}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("p",{children:"Smart Contract"}),(0,d.jsx)(u,{text:v.contract_id,small:!0})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm overflow-hidden",children:[(0,d.jsx)("p",{children:g("ImageLink")}),(0,d.jsx)(u,{text:(0,x.pf)(v.metadata.media,null,{useOriginal:!0})})]}),v.transaction_fee&&(0,d.jsxs)("div",{className:"flex items-center justify-between relative z-10 text-sm",children:[(0,d.jsxs)("p",{className:"text-white",children:[g("LockedFee")," "]}),(0,d.jsxs)("div",{className:"text-xs flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"text-white",children:[T," %"]}),(0,d.jsx)(k.Z,{id:"locked-fee",show:!0,text:"This is the current locked transaction fee. Every update to the NFT price will also update the value according to the global transaction fee.",className:"font-normal w-full flex items-center",type:"light",place:"top",children:(0,d.jsx)(l.aU,{size:16,color:"#ffffff",className:"inline mb-1"})})]})]})]})]})}},92326:function(e,t,n){var r=n(83789),a=n(80318),s=n(92809),i=n(30266),c=n(809),o=n.n(c),l=n(42119),d=n.n(l),u=n(84614),m=n(77084),p=n(67294),x=n(58533),f=n(7570),h=n(31427),v=n(49566),j=n(88154),g=n(88054),_=n(39499),b=n.n(_),y=n(81941),w=n(98006),k=n(80312),N=n(35277),C=n(64672),S=n(19286),E=n(11163),Z=n(4866),O=n(71870),A=n(85893);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=12,D=function(e){var t,n=e.data,r=e.onAcceptOffer,a=e.hideButton,s=e.fetchOffer,c=e.localToken,l=e.setOfferBuyerData,x=e.acceptTrade,_=(0,E.useRouter)(),k=(0,p.useState)({}),T=k[0],I=k[1],D=(0,h.Z)((function(e){return{currentUser:e.currentUser}})).currentUser,B=(0,p.useState)(!0),R=B[0],P=B[1],L=(0,p.useState)([]),M=L[0],z=L[1],U=(0,p.useState)(null),G=U[0],W=U[1],H=(0,p.useState)({isShowBannedConfirm:!1,creator:null,isFlagged:!1}),q=H[0],Y=H[1],V=(0,C.p)(),K=(null===n||void 0===n?void 0:n.type)&&"trade"===(null===n||void 0===n?void 0:n.type),J=(0,h.Z)().nearUsdPrice,Q=(0,f.Y)().localeLn;(0,p.useEffect)((function(){n.buyer_id&&X()}),[n.buyer_id]),(0,p.useEffect)((function(){"trade"===n.type&&$()}),[]),(0,p.useEffect)((function(){c.token_id||"trade"!==n.type||function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:{token_series_id:c.token_series_id,contract_id:c.contract_id,owner_id:D},ttl:60});case 2:0===e.sent.data.data.results.length?P(!1):P(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var X=function(){var e=(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("".concat("https://api-v2-mainnet.paras.id","/profiles"),{params:{accountId:n.buyer_id},ttl:60});case 3:t=e.sent,r=t.data.data.results[0]||{},I(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,j.p)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,i.Z)(o().mark((function e(){var t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token_id:n.buyer_token_id,contract_id:n.buyer_nft_contract_id,__limit:1},e.next=3,d().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:t,ttl:30});case 3:return r=e.sent,e.next=6,d().get("".concat("https://api-v2-mainnet.paras.id","/profiles"),{params:{accountId:r.data.data.results[0].metadata.creator_id},ttl:600});case 6:a=e.sent,W(a.data.data.results[0]),z(r.data.data.results[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,i.Z)(o().mark((function e(){var t,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=K?F(F({nft_contract_id:n.contract_id},n.token_id?{token_id:n.token_id}:{token_series_id:n.token_series_id}),{},{buyer_nft_contract_id:n.buyer_nft_contract_id,buyer_token_id:n.buyer_token_id}):F({nft_contract_id:n.contract_id},n.token_id?{token_id:n.token_id}:{token_series_id:n.token_series_id}),e.prev=1,!K){e.next=13;break}return e.next=5,N.default.callFunction({contractId:"marketplace.paras.near",methodName:"delete_trade",args:t,gas:g.GAS_FEE,deposit:"1"});case 5:if(!(r=e.sent).error||!r.error.includes("reject")){e.next=10;break}return e.abrupt("return");case 10:r.response.error?V.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:r.response.error.kind.ExecutionError}),type:"error",duration:2500}):(V.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully delete trade"}),type:"success",duration:2500}),setTimeout(s,2500));case 11:e.next=17;break;case 13:return e.next=15,N.default.callFunction({contractId:"marketplace.paras.near",methodName:"delete_offer",args:t,gas:g.GAS_FEE,deposit:"1"});case 15:null!==(a=e.sent)&&void 0!==a&&a.response.error?V.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:null===a||void 0===a?void 0:a.response.error.kind.ExecutionError}),type:"error",duration:2500}):a&&V.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully delete offer"}),type:"success",duration:2500});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),(0,j.p)(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:[(0,A.jsxs)("div",{className:"flex items-center",children:[(0,A.jsxs)("div",{className:"w-2/3 flex items-center",children:[(0,A.jsx)("div",{className:"hidden md:block",children:(0,A.jsx)(w.Z,{size:"md",src:(0,y.pf)(T.imgUrl)})}),(0,A.jsx)("div",{className:"pl-2",children:(0,A.jsx)("div",{className:"overflow-hidden truncate",children:(0,A.jsx)(u.Z,{accountId:n.buyer_id})})})]}),(0,A.jsx)("div",{className:"w-1/3 text-right",children:(0,A.jsx)("p",{className:"text-sm text-gray-300",children:y.Sy.format(new Date(n.issued_at))})})]}),(0,A.jsxs)("div",{className:"flex ".concat(K?"items-end":"items-center"," justify-between mt-2"),children:["trade"===n.type?(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"mb-2",children:"Offer NFT for trade"}),(0,A.jsx)("div",{className:"flex items-center",children:(0,A.jsx)("div",{className:"z-20 max-h-40 w-24 cursor-pointer border-4 border-gray-700 rounded-lg",children:(0,A.jsx)("a",{onClick:function(e){e.preventDefault(),_.push("/token/".concat(M.contract_id,"::").concat(M.token_series_id).concat(M.token_id&&"/".concat(M.token_id)))},children:(0,A.jsx)(S.Z,{className:"rounded-lg overflow-hidden",url:(0,y.pf)(null===M||void 0===M||null===(t=M.metadata)||void 0===t?void 0:t.media,null,{width:"600",useOriginal:!1,isMediaCdn:!0}),seeDetails:!0})})})})]}):(0,A.jsxs)("div",{className:"flex items-baseline",children:[(0,A.jsxs)("p",{children:["Offer ",(0,m.formatNearAmount)(n.price)," \u24c3"]}),0!==J&&(0,A.jsxs)("p",{className:"text-xs text-gray-300 truncate ml-1",children:["~ $",(0,y.gL)(b().BigInt(n.price)*J,24,2)]})]}),!a&&n.buyer_id!==D&&R&&(0,A.jsx)("div",{children:(0,A.jsx)(v.Z,{size:"sm",className:"w-full",onClick:function(){K?(Y({isShowBannedConfirm:!0,creator:G,isFlagged:!(!G.flag||"banned"!==G.flag&&"rugpull"!==G.flag&&"hacked"!==G.flag&&"scam"!==G.flag)}),l(n)):r(n)},hideButton:a,children:"Accept"})}),n.buyer_id===D&&(0,A.jsx)("div",{children:(0,A.jsx)(v.Z,{size:"sm",className:"w-full",onClick:ee,hideButton:a,children:"Delete"})})]}),"trade"===n.type&&n.buyer_id!==D&&R&&(null===G||void 0===G?void 0:G.flag)&&("banned"===(null===G||void 0===G?void 0:G.flag)||"rugpull"===G.flag||"hacked"===G.flag||"scam"===G.flag)&&(0,A.jsx)("div",{className:"mt-4",children:(0,A.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,A.jsx)("p",{className:"text-white text-xs p-1 font-bold w-full mx-auto px-4 text-center rounded-md ".concat(Z.M[null===G||void 0===G?void 0:G.flag]),children:Q(Z.z[null===G||void 0===G?void 0:G.flag])})})})]}),q.isShowBannedConfirm&&(0,A.jsx)(O.Z,{creatorData:q.creator,action:function(){return x()},setIsShow:function(e){return Y(e)},onClose:function(){return Y((function(e){return F(F({},e),{},{isShowBannedConfirm:!1})}))},isTradeType:!0,tradedTokenData:M,isFlagged:q.isFlagged})]})};t.Z=function(e){var t=e.localToken,n=(0,h.Z)(),s=(0,p.useState)([]),c=s[0],l=s[1],u=(0,p.useState)(0),m=u[0],v=u[1],_=(0,p.useState)(!0),y=_[0],w=_[1],S=(0,p.useState)(!1),E=S[0],Z=S[1],O=(0,p.useState)(!1),T=O[0],F=O[1],B=(0,p.useState)(null),R=B[0],P=B[1],L=(0,p.useState)(null),M=L[0],z=L[1],U=(0,p.useState)(g.STORAGE_APPROVE_FEE),G=U[0],W=U[1],H=(0,p.useState)(!1),q=H[0],Y=H[1],V=(0,p.useState)(null),K=V[0],J=V[1],Q=(0,C.p)(),X=(0,f.Y)().localeLn;(0,p.useEffect)((function(){t.token_series_id&&re(!0)}),[t]),(0,p.useEffect)((function(){c.length>0&&n.userProfile.accountId&&ne()}),[c,n.userProfile]);var $=function(){P(null)},ee=function(){var e=(0,i.Z)(o().mark((function e(){var t,n,r,s,i,c,l,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={account_id:"marketplace.paras.near"},Y(!0),r=T.split("::"),s=(0,a.Z)(r,3),i=s[0],c=s[1],l=s[2],"token"===c?(n.token_id=l,n.msg=JSON.stringify({market_type:"accept_offer",buyer_id:M.buyer_id,price:M.price})):(n.token_series_id=M.token_series_id,n.msg=JSON.stringify({market_type:"accept_offer_paras_series",buyer_id:M.buyer_id,price:M.price}),l&&(n.token_id=l)),"owner"!==i){e.next=11;break}return e.next=8,N.default.callFunction({contractId:M.contract_id,methodName:"nft_approve",args:n,gas:g.GAS_FEE_150,deposit:g.STORAGE_APPROVE_FEE});case 8:d=e.sent,e.next=14;break;case 11:return e.next=13,N.default.callFunction({contractId:M.contract_id,methodName:"nft_mint_and_approve",args:n,gas:g.GAS_FEE_200,deposit:b().add(b().BigInt(g.STORAGE_APPROVE_FEE),b().BigInt(g.STORAGE_MINT_FEE)).toString()});case 13:d=e.sent;case 14:null!==(t=d)&&void 0!==t&&t.response.error?Q.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:null===(u=d)||void 0===u?void 0:u.response.error.kind.ExecutionError}),type:"error",duration:2500}):d&&($(),Q.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:"Successfully accept offer"}),type:"success",duration:2500}),setTimeout((function(){return re(!0)}),2500)),Y(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),(0,j.p)(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,i.Z)(o().mark((function e(){var t,r,s,i,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.split("::"),r=(0,a.Z)(t,3),s=r[1],i=r[2],(c={account_id:"marketplace.paras.near"}).token_id=i,c.msg=JSON.stringify({market_type:"token"===s?"accept_trade":"accept_trade_paras_series",buyer_id:K.buyer_id,buyer_nft_contract_id:K.buyer_nft_contract_id,buyer_token_id:K.buyer_token_id}),e.next=6,N.default.signAndSendTransaction({receiverId:K.contract_id,actions:[{methodName:"nft_approve",args:c,gas:g.ACCEPT_GAS_FEE,deposit:g.STORAGE_APPROVE_FEE}]});case 6:if(!(l=e.sent).error||!l.error.includes("reject")){e.next=11;break}return e.abrupt("return");case 11:l.response.error?Q.show({text:(0,A.jsx)("div",{className:"font-semibold text-center text-sm",children:l.response.error.kind.ExecutionError}),type:"error",duration:2500}):(l.response&&n.setTransactionRes(null===l||void 0===l?void 0:l.response),setTimeout(re,2500));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.Z)(o().mark((function e(){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.token_id){e.next=7;break}return e.next=3,d().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:{token_id:t.token_id,contract_id:t.contract_id,owner_id:n.userProfile.accountId,__limit:1},ttl:30});case 3:e.sent.data.data.results[0]&&(F("owner::token::".concat(t.token_id)),W(g.STORAGE_APPROVE_FEE)),e.next=12;break;case 7:return e.next=9,d().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:{token_series_id:t.token_series_id,contract_id:t.contract_id,owner_id:n.userProfile.accountId,__limit:1},ttl:30});case 9:r=e.sent,a=t.metadata.creator_id||t.contract_id,r.data.data.results[0]?(F("owner::series::".concat(r.data.data.results[0].token_id)),W(g.STORAGE_APPROVE_FEE)):n.userProfile.accountId===a&&(F("creator::series"),W(b().add(b().BigInt(g.STORAGE_APPROVE_FEE),b().BigInt(g.STORAGE_MINT_FEE)).toString()));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,i.Z)(o().mark((function e(){var n,a,s,i,u,p,x,f,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>0&&void 0!==h[0]&&h[0],a=n?0:m,s=n?[]:c,(!!n||y)&&!E){e.next=6;break}return e.abrupt("return");case 6:return Z(!0),i={__skip:a*I,__limit:I},t.token_id?(i.token_id=t.token_id,i.contract_id=t.contract_id):(i.token_series_id=t.token_series_id,i.contract_id=t.contract_id),e.next=11,d().get("".concat("https://api-v2-mainnet.paras.id","/offers"),{params:i,ttl:30,force:n});case 11:u=e.sent,p=u.data.data,x=[].concat((0,r.Z)(s||[]),(0,r.Z)(p.results)),f=!(p.results.length<I),l(x),v(a+1),w(f),Z(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)("div",{className:"text-white",children:[(0,A.jsx)(x.Z,{dataLength:c.length,next:re,hasMore:y,scrollableTarget:"TokenScroll",loader:(0,A.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,A.jsx)("div",{className:"text-white text-center",children:X("Loading...")})}),children:0!==c.length?c.map((function(e){return(0,A.jsx)("div",{children:(0,A.jsx)(D,{data:e,onAcceptOffer:function(){return z(e),void P("acceptOffer")},hideButton:!T,fetchOffer:function(){return re(!0)},localToken:t,setOfferBuyerData:J,acceptTrade:te})},e._id)})):(0,A.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,A.jsx)("div",{className:"text-white text-center",children:"No offer at the moment"})})}),"acceptOffer"===R&&(0,A.jsx)(k.Z,{show:"buy"===R,onClose:$,token:t,data:M,storageFee:G,onSubmitForm:ee,isLoading:q})]})}},44516:function(e,t,n){var r=n(83789),a=n(30266),s=n(809),i=n.n(s),c=n(42119),o=n.n(c),l=n(98006),d=n(49566),u=n(34392),m=n(70357),p=n(88154),x=n(31427),f=n(77084),h=n(41664),v=n(67294),j=n(81941),g=n(7570),_=n(18734),b=n(85893),y=function(e){var t=e.initial,n=void 0===t?{}:t,r=e.onBuy,s=e.onUpdateListing,c=(0,_.Z)({key:"".concat(n.contract_id,"::").concat(n.token_series_id,"/").concat(n.token_id),initialData:n}).token,u=(0,v.useState)({}),m=u[0],y=u[1],w=(0,x.Z)().currentUser,k=(0,g.Y)().localeLn;(0,v.useEffect)((function(){c.owner_id&&N()}),[c.owner_id]);var N=function(){var e=(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o().get("".concat("https://api-v2-mainnet.paras.id","/profiles"),{params:{accountId:c.owner_id},ttl:60});case 3:t=e.sent,n=t.data.data.results[0]||{},y(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,p.p)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t,n=[];return null===c||void 0===c||null===(t=c.bidder_list)||void 0===t||t.map((function(t){"bidder"===e?n.push(t.bidder):"time"===e?n.push(t.issued_at):"amount"===e&&n.push(t.amount)})),n.reverse()[0]};return(0,b.jsxs)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(h.default,{href:"/".concat(c.owner_id),children:(0,b.jsx)("a",{className:"hover:opacity-80",children:(0,b.jsx)(l.Z,{size:"md",src:(0,j.pf)(m.imgUrl),className:"align-bottom"})})}),c.owner_id?(0,b.jsx)("div",{className:"ml-2",children:(0,b.jsx)(h.default,{href:"/".concat(c.owner_id),children:(0,b.jsx)("a",{className:"hover:opacity-80",children:(0,b.jsx)("p",{className:"text-white font-semibold truncate",children:(0,j.oe)(c.owner_id,16,"address")})})})}):(0,b.jsx)("p",{className:"ml-2 text-white font-semibold",children:k("Burned")})]}),(0,b.jsx)("div",{className:"pl-4 overflow-hidden",children:(0,b.jsx)(h.default,{href:"/token/".concat(c.contract_id,"::").concat(c.token_series_id,"/").concat(c.token_id),children:(0,b.jsx)("a",{className:"hover:opacity-80",children:(0,b.jsx)("p",{className:"text-white font-semibold truncate",children:"x.paras.near"===c.contract_id?"".concat(k("Edition")," #").concat(c.edition_id):"#".concat(c.token_id)})})})})]}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[null!==c&&void 0!==c&&c.is_auction?(0,b.jsxs)("p",{className:"text-white",children:[k("OnAuction")," ",(0,j.gL)(null!==c&&void 0!==c&&c.is_auction&&null!==c&&void 0!==c&&c.bidder_list&&0!==(null===c||void 0===c?void 0:c.bidder_list.length)&&C("amount")||c.price,24,2)," ","\u24c3"]}):c.price?(0,b.jsxs)("p",{className:"text-white",children:[k("OnSale")," ",(0,f.formatNearAmount)(c.price)," \u24c3"]}):c.is_staked?(0,b.jsx)("p",{className:"text-white",children:k("Staked")}):(0,b.jsx)("p",{className:"text-white",children:k("NotForSale")}),w&&function(){if(c.owner_id===w){if(!c.is_staked&&(null===c||void 0===c||!c.is_auction))return(0,b.jsx)("div",{className:"w-24",children:(0,b.jsx)(d.Z,{onClick:function(){return s(c)},size:"sm",isFullWidth:!0,children:k("Update")})})}else if(c.owner_id!==w&&c.price&&!c.is_auction)return(0,b.jsx)("div",{className:"w-24",children:(0,b.jsx)(d.Z,{onClick:function(){return r(c)},size:"sm",isFullWidth:!0,children:k("Buy")})})}()]})})]})};t.Z=function(e){var t=e.localToken,n=e.isAuctionEnds,s=(0,v.useState)([]),c=s[0],l=s[1],d=(0,v.useState)(!1),p=d[0],x=d[1],f=(0,v.useState)(null),h=f[0],j=f[1],_=(0,v.useState)(null),w=_[0],k=_[1],N=(0,v.useState)(),C=N[0],S=N[1],E=(0,g.Y)().localeLn;(0,v.useEffect)((function(){t.token_series_id&&Z([],null)}),[]),(0,v.useEffect)((function(){p||T(C)}),[C,p]);var Z=function(){var e=(0,a.Z)(i().mark((function e(n,a){var s,c,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,o().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:{token_series_id:t.token_series_id,contract_id:t.contract_id,_id_next:a,__limit:100,__sort:"price::1"},ttl:120});case 3:s=e.sent,c=s.data.data.results,d=[].concat((0,r.Z)(n),(0,r.Z)(c)),l(d),100===c.length?Z(d,c[c.length-1]._id):x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),k("update");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){k(null),j(null)},T=function(e){var t=c.slice();if("nameasc"===e)t.sort((function(e,t){var n;return null===(n=e.owner_id)||void 0===n?void 0:n.localeCompare(t.owner_id)}));else if("namedesc"===e)t.sort((function(e,t){var n;return null===(n=t.owner_id)||void 0===n?void 0:n.localeCompare(e.owner_id)}));else if("editionasc"===e)t.sort((function(e,t){return parseInt(e.edition_id)-parseInt(t.edition_id)}));else if("editiondesc"===e)t.sort((function(e,t){return parseInt(t.edition_id)-parseInt(e.edition_id)}));else if("priceasc"===e){var n=c.filter((function(e){return e.price})),a=c.filter((function(e){return!e.price}));n=n.sort((function(e,t){return e.price-t.price})),t=[].concat((0,r.Z)(n),(0,r.Z)(a))}else if("pricedesc"===e){var s=c.filter((function(e){return e.price})),i=c.filter((function(e){return!e.price}));s=s.sort((function(e,t){return t.price-e.price})),t=[].concat((0,r.Z)(s),(0,r.Z)(i))}l(t)};return(0,b.jsxs)("div",{children:[p||0!==c.length?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:[(0,b.jsx)("p",{className:"text-sm my-auto text-white font-medium",children:"Sort By"}),(0,b.jsxs)("select",{className:"py-1 rounded-md bg-gray-800 text-white focus:outline-none outline-none text-right",onChange:function(e){return S(e.target.value)},defaultValue:"priceasc",value:C,children:[(0,b.jsx)("option",{value:"editionasc",children:"Edition Low-High"}),(0,b.jsx)("option",{value:"editiondesc",children:"Edition High-Low"}),(0,b.jsx)("option",{value:"nameasc",children:"Name A-Z"}),(0,b.jsx)("option",{value:"namedesc",children:"Name Z-A"}),(0,b.jsx)("option",{value:"priceasc",children:"Price Low-High"}),(0,b.jsx)("option",{value:"pricedesc",children:"Price High-Low"})]})]}),c.map((function(e){return(0,b.jsx)(y,{initial:e,onBuy:function(e){k("buy"),j(e)},onUpdateListing:function(e){O(e)},isAuctionEnds:n},e.token_id)}))]}):(0,b.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,b.jsx)("div",{className:"text-white",children:E("NoOwnersBecome")})}),"buy"===w&&(0,b.jsx)(u.Z,{show:"buy"===w,onClose:A,data:h}),"update"===w&&(0,b.jsx)(m.Z,{show:"update"===w,onClose:A,data:h})]})}},63868:function(e,t,n){var r=n(83789),a=n(30266),s=n(809),i=n.n(s),c=n(7570),o=n(67294),l=n(42119),d=n.n(l),u=n(58533),m=n(41664),p=n(85893);t.Z=function(e){var t=e.localToken,n=(0,c.Y)().localeLn,s=(0,o.useState)([]),l=s[0],x=s[1],f=(0,o.useState)(0),h=f[0],v=f[1],j=(0,o.useState)(!1),g=j[0],_=j[1],b=(0,o.useState)(!0),y=b[0],w=b[1];(0,o.useEffect)((function(){0===l.length&&y&&k()}),[]);var k=function(){var e=(0,a.Z)(i().mark((function e(){var n,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&!g){e.next=2;break}return e.abrupt("return");case 2:return n="".concat(t.contract_id,"::").concat(t.token_series_id),_(!0),e.next=6,d().get("".concat("https://api-v2-mainnet.paras.id","/publications?contract_token_id=").concat(n,"&__skip=").concat(12*h,"&__limit=5&__view=simple"),{ttl:60});case 6:return a=e.sent,e.next=9,a.data.data;case 9:s=e.sent,c=[].concat((0,r.Z)(l),(0,r.Z)(s.results)),x(c),v(h+1),0===s.results.length?w(!1):w(!0),_(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{children:[0===l.length&&!y&&(0,p.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,p.jsx)("p",{className:"text-white text-center",children:n("Card not mentioned in any publication")})}),(0,p.jsx)(u.Z,{dataLength:l.length,next:k,hasMore:y,loader:(0,p.jsx)("div",{className:"bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,p.jsx)("p",{className:"text-white text-center",children:n("Loading...")})}),scrollableTarget:"publicationListScroll",children:l.map((function(e){return(0,p.jsx)("div",{className:"m-auto bg-gray-800 mt-3 p-3 rounded-md shadow-md",children:(0,p.jsx)("div",{className:"m-auto",children:(0,p.jsx)(m.default,{href:"/publication/".concat(e.slug,"-").concat(e._id),children:(0,p.jsxs)("div",{className:"cursor-pointer",children:[(0,p.jsx)("h1",{className:"font-bold line-clamp-1 text-white",children:e.title}),(0,p.jsx)("p",{className:"text-sm mt-1 line-clamp-2 overflow-hidden text-white opacity-80",children:e.description})]})})})},e._id)}))})]})}},72702:function(e,t,n){var r=n(92809),a=n(30266),s=n(80318),i=n(809),c=n.n(i),o=n(42119),l=n.n(o),d=n(52450),u=n(67294),m=n(81941),p=n(85893);t.Z=function(e){var t=e.contract_token_id,n=e.setTradedToken,i=e.onClickTradingCard,o=e.afterCreate,x=void 0!==o&&o,f=(0,u.useState)(null),h=f[0],v=f[1],j=null===t||void 0===t?void 0:t.split("/"),g=(0,s.Z)(j,2),_=g[0],b=g[1];(0,u.useEffect)((function(){y()}),[]);var y=function(){var e=(0,a.Z)(c().mark((function e(){var a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.Z)({contract_id:_.split("::")[0]},b?"token_id":"token_series_id",b||t.split("::")[1]),e.next=3,l().get("".concat("https://api-v2-mainnet.paras.id","/").concat(b?"token":"token-series"),{params:a,ttl:60});case 3:if(0!==(s=e.sent).data.data.results.length){e.next=9;break}return n([]),e.abrupt("return");case 9:v(s.data.data.results[0]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{id:t,className:"w-6/12 md:w-full hidden md:flex flex-col items-center whitespace-normal overflow-visible",onClick:i,children:[(0,p.jsx)("div",{className:"w-full m-auto",children:(0,p.jsx)(d.Z,{imgUrl:(0,m.pf)(h.metadata.media,null,{width:"600",useOriginal:!1,isMediaCdn:h.isMediaCdn}),imgBlur:h.metadata.blurhash,token:{title:h.metadata.title,collection:h.metadata.collection||h.contract_id,copies:h.metadata.copies,creatorId:h.metadata.creator_id||h.contract_id,is_creator:h.is_creator,mime_type:h.metadata.mime_type}})}),!x&&(0,p.jsx)("div",{className:"cursor-pointer flex items-center mt-2",onClick:function(){n([])},children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ff2825",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,p.jsx)("line",{x1:4,y1:7,x2:20,y2:7}),(0,p.jsx)("line",{x1:10,y1:11,x2:10,y2:17}),(0,p.jsx)("line",{x1:14,y1:11,x2:14,y2:17}),(0,p.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,p.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]}),(0,p.jsxs)("div",{className:"flex md:hidden",children:[(0,p.jsx)(d.Z,{imgUrl:(0,m.pf)(h.metadata.media,null,{width:"600",useOriginal:!1,isMediaCdn:h.isMediaCdn}),imgBlur:h.metadata.blurhash,token:{title:h.metadata.title,collection:h.metadata.collection||h.contract_id,copies:h.metadata.copies,creatorId:h.metadata.creator_id||h.contract_id,is_creator:h.is_creator,mime_type:h.metadata.mime_type}}),!x&&(0,p.jsx)("div",{className:"cursor-pointer flex items-center mt-2",onClick:function(){n([])},children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-trash",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ff2825",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,p.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,p.jsx)("line",{x1:4,y1:7,x2:20,y2:7}),(0,p.jsx)("line",{x1:10,y1:11,x2:10,y2:17}),(0,p.jsx)("line",{x1:14,y1:11,x2:14,y2:17}),(0,p.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,p.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})]}):null}},63140:function(e,t,n){n.d(t,{n:function(){return r}});var r=!0},4866:function(e,t,n){n.d(t,{z:function(){return r},M:function(){return a}});var r={banned:"FlaggedByPARASStealing",fake:"FlaggedByPARASFake",hacked:"FlaggedByPARASHacked",remint:"FlaggeyByPARASRemint",rugpull:"FlaggeyByPARASRugpull",scam:"FlaggedByPARASScam"},a={banned:"bg-red-600",fake:"bg-yellow-600",hacked:"bg-yellow-600",remint:"bg-yellow-600",rugpull:"bg-red-500",scam:"bg-red-400"}},53367:function(e,t,n){var r=n(30266),a=n(809),s=n.n(a),i=n(42119),c=n.n(i),o=n(67294);t.Z=function(e){var t=(0,o.useState)(null),n=t[0],a=t[1];return(0,o.useEffect)((function(){e&&function(){var t=(0,r.Z)(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("".concat("https://api-v2-mainnet.paras.id","/profiles"),{params:{accountId:e},ttl:600});case 2:n=t.sent,r=n.data.data.results[0],a(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),n}},18734:function(e,t,n){var r=n(92809),a=n(80318),s=n(30266),i=n(809),c=n.n(i),o=n(9669),l=n.n(o),d=n(8100);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.key,n=e.initialData,r=e.args,i=void 0===r?{}:r,o=e.params,u=void 0===o?{}:o,p=function(){var e=(0,s.Z)(c().mark((function e(t){var n,r,s,i,o,d,p,x;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.split("::"),r=(0,a.Z)(n,2),s=r[0],i=r[1],o=i.split("/"),d=(0,a.Z)(o,2),p=d[0],x=d[1],e.abrupt("return",l().get("".concat("https://api-v2-mainnet.paras.id","/token"),{params:m({contract_id:s,token_series_id:p,token_id:x},u)}).then((function(e){return e.data.data.results[0]})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(0,d.ZP)(t||"".concat(n.contract_id,"::").concat(n.token_series_id,"/").concat(n.token_id),p,m({fallbackData:n,revalidateOnMount:!1,revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1,refreshInterval:0},i)),f=x.data,h=x.mutate,v=x.error;return{token:f,isLoading:!v&&!f,isError:v,mutate:h}}}}]);
//# sourceMappingURL=3235-a56c9df9fc067227e63e.js.map